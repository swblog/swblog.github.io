{"version":3,"sources":["webpack:///webpack/bootstrap bd50b46f140355b39263","webpack:///./source/src/index.js","webpack:///./source/src/helper/common_event.js","webpack:///./source/src/common/util/index.js","webpack:///./source/src/common/util/event.js","webpack:///./source/src/model/article.js","webpack:///./source/src/helper/search.js","webpack:///./source/src/helper/sw_post_message.js","webpack:///./source/src/model/config.js","webpack:///./source/src/card/common/navigator.js","webpack:///./source/src/page/list.js","webpack:///./source/src/card/common/footer.js","webpack:///./source/src/card/common/main_container.js","webpack:///./source/src/helper/init_option.js","webpack:///./source/src/card/blog/pannel.js","webpack:///./source/src/card/blog/pannel_list.js","webpack:///./source/src/model/read_history.js","webpack:///./source/src/card/blog/article_list.js","webpack:///./source/src/page/book.js","webpack:///./source/src/card/common/slidebar_container.js","webpack:///./source/src/page/content.js","webpack:///./source/src/card/blog/content.js","webpack:///./source/src/page/blog.js","webpack:///./source/src/page/search.js","webpack:///./source/src/card/blog/pull_article.js"],"names":["require","m_article","m_config","c_header","c_pageList","c_pageBook","c_pageContent","c_pageBlog","c_pageSearch","viewHeader","$","append","getConfig","then","initArticle","reset","BCD","app","setTitle","str","navLis","find","removeClass","each","i","domLi","url","attr","location","hash","indexOf","addClass","document","title","initPage","key","next","page","path","decodeURIComponent","hasBook","hasCatalog","hasArticle","replaceHash","getIndex","m_util","go","ele","option","data","on","e","stopBubble","addEvent","back","history","module","exports","m_event","getTime","date","Date","now","diff","Math","round","getDate","getFullYear","time","formatDate","leftFillString","num","length","substr","getRandomName","random","toString","replace","stopBubbleEx","stopPropagation","preventDefault","m_search","swPostMessage","catalogList","catalogDict","articleList","articleDict","sidebarList","bookList","bookDict","tagList","sidebarName","getSidebarPath","name","result","item","list","idx","summary","content","setTimeout","editormd","markdownToHTML","markdown","htmlDecode","tocm","emoji","taskList","tex","flowChart","sequenceDiagram","baseHash","html","$0","$1","getName","arr","match","getURL","o","mtime","getPath","pathWithSearch","getSortContent","paragraph","len","minLen","ret","substring","partCount","partIndex","$2","getContent","reg","split","filter","count","some","lastIndexOf","con","preload","obj","console","log","init","tagSet","Set","processArticle","isDirectory","tags","slice","forEach","add","href","encodeURIComponent","push","extend","sort","a","b","processCount","Promise","resolve","ajaxCache","totalList","concat","existDict","origin","m","dict","map","getTagArticles","tag","fetchContent","ajaxList","ajax","success","Object","assign","when","apply","getList","method","parseInt","start","getChildCatalog","catalog","tagLength","every","getCatalogArticles","testItem","testType","searchWeight","weightDict","test","pointList","point","weight","search","searchList","word","callback","getGlobalRegex","fitList","remainList","searchCallback","totalNum","checkNum","searchWord","batchProcess","subList","splice","testObj","searchDirect","getCatalogs","getBooks","getTags","getArticleList","getListByCatalog","getListByTag","getArticleContent","createNGram","n","end","gramDict","getWordList","wordList","processStrict","processChiese","processEnglish","RegExp","join","index","postMessage","callbackDict","navigator","serviceWorker","addEventListener","event","cbid","resp","req","controller","state","host","isLocalhost","username","config","searchIssueURL","newIssueURL","update","author","logoTitle","window","CONFIG","nav","getConfigSync","getNewIssueURL","getSearchIssueURL","viewInput","viewDrop","setView","template","viewGroup","getWord","val","trim","doSearch","getHash","focus","selectLi","oldWord","hide","keyCode","lis","trigger","css","eq","getData","c_footer","c_mainContainer","m_initOption","c_pannel","c_pannelList","c_articleList","viewBody","viewTop","viewList","viewPannelList","addView","viewFoot","currentHash","hasRender","getCode","notRender","empty","hrefHead","pageNum","show","isInline","parent","prepend","anchorBack","scrollY","scrollTo","extendState","getPage","view","m_readHistory","viewPannelBook","viewPannelCatalog","viewPannelTag","viewPannelRecommendPost","getRecommend","storageKey","readHistory","JSON","parse","localStorage","getItem","addHistory","setItem","stringify","currentPath","s_mainContainer","viewContent","viewSlidebar","slidebar","chapters","bindEvent","fileName","c_content","delay","innerHeight","m_pullArticle","container","viewRank","viewTips","full","keyWord"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bd50b46f140355b39263","/**\r\n * @file index 入口文件，路由定义\r\n * @author ljquan@qq.com\r\n */\r\n\r\nrequire('helper/common_event.js');\r\nconst m_article = require('model/article');\r\nconst m_config = require('model/config');\r\nconst c_header = require('card/common/navigator');\r\nconst c_pageList = require('page/list.js');\r\nconst c_pageBook = require('page/book.js');\r\nconst c_pageContent = require('page/content.js');\r\nconst c_pageBlog = require('page/blog.js');\r\nconst c_pageSearch = require('page/search.js');\r\nlet viewHeader = c_header();\r\n$('body').append(viewHeader);\r\n\r\nm_config.getConfig.then(() =>\r\n  m_article.initArticle.then(() => {\r\n    viewHeader.reset();\r\n    BCD.app({ //入口\r\n      setTitle: function (str) {\r\n        //viewHeader.reset();\r\n        let navLis = viewHeader.find('.nav li');\r\n        navLis.removeClass('active');\r\n        navLis.each((i, domLi) => {\r\n          let url = $($(domLi).find('a')[0]).attr('data-url') || '';\r\n          if (location.hash.indexOf(url) === 0) {\r\n            $(domLi).addClass('active');\r\n          }\r\n        });\r\n        document.title = str;\r\n      },\r\n      initPage: function (key, next) {\r\n        var page = this;\r\n        if (key == 'index') {\r\n          c_pageList(page, key);\r\n          next();\r\n        } else if (key == 'tag') {\r\n          c_pageList(page, key);\r\n          next();\r\n        } else if (key == 'blog') {\r\n          c_pageBlog(page);\r\n          next();\r\n        } else if (key == 'search') {\r\n          c_pageSearch(page, key);\r\n          next();\r\n        } else {\r\n          let path = decodeURIComponent(key);\r\n          if (m_article.hasBook(path)) {\r\n            c_pageBook(page, path);\r\n            return next();\r\n          } else if (m_article.hasCatalog(path)) {\r\n            c_pageList(page, path);\r\n            return next();\r\n          } else if (m_article.hasArticle(path)) {\r\n            c_pageContent(page, path);\r\n            return next();\r\n          }\r\n\r\n          BCD.replaceHash(m_config.getIndex());\r\n          next(-1);\r\n        }\r\n      }\r\n    });\r\n  })\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/index.js","const m_util = require('common/util')\r\n//data-on=\"?m=go\" data-url=\"<%=o.href%>\"\r\nconst go = (ele, option, data)=>{\r\n  ele.on('click', function(e){\r\n    BCD.go(ele.data('url'));\r\n    m_util.stopBubble(e);\r\n  })\r\n};\r\nBCD.addEvent('go', go);\r\n//data-on=\"?m=back\"\r\nconst back = (ele, option, data)=>{\r\n  ele.on('click', function(e){\r\n    history.back();\r\n    m_util.stopBubble(e);\r\n  })\r\n};\r\nBCD.addEvent('back', back);\r\n\r\nconst replaceHash = (ele, option, data)=>{\r\n  ele.on('click', function(e){\r\n    BCD.replaceHash(ele.data('url'));\r\n    m_util.stopBubble(e);\r\n  })\r\n};\r\nBCD.addEvent('replaceHash', replaceHash);\r\n//事件绑定\r\nmodule.exports = {\r\n  go,\r\n  back,\r\n  replaceHash\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/common_event.js","const m_event = require('./event');\r\nconst getTime = function(date) {\r\n  date = new Date(date);\r\n  var now = new Date();\r\n  var diff = now - date;\r\n  switch (true) {\r\n    case diff < 6E4:\r\n      return '刚刚';\r\n    case diff < 36E5:\r\n      return Math.round(diff / 6E4) + '分钟前';\r\n    case diff < 864E5:\r\n      return Math.round(diff / 36E5) + '小时前';\r\n    case diff < 1728E5 && now.getDate() - date.getDate() != 2:\r\n      return '昨天';\r\n    case date.getFullYear() === new Date().getFullYear():\r\n      return BCD.time.formatDate(date, \"%M月%d日\");\r\n    default:\r\n      return BCD.time.formatDate(date, \"%y年%M月%d日\");\r\n  }\r\n};\r\n\r\nconst leftFillString = function(num, length) {\r\n  return (\"0000000000\" + num).substr(-length);\r\n};\r\nconst getRandomName = function() {\r\n  return (\"aaaaaaaaaa\" + Math.random().toString(36).replace(/[.\\d]/g, '')).substr(-10)\r\n};\r\nmodule.exports = {\r\n  getTime,\r\n  leftFillString,\r\n  getRandomName,\r\n  stopBubble: m_event.stopBubble,\r\n  stopBubbleEx: m_event.stopBubbleEx\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/common/util/index.js","/**\r\n * @module {Object} event  事件相关的处理函数\r\n * @return {object} 方法集合\r\n * @property {function} stopBubble 停止冒泡并禁止默认事件\r\n * @property {function} stopBubbleEx 停止冒泡\r\n * @author ljquan@qq.com\r\n */\r\n\r\nmodule.exports = {\r\n    /**\r\n     * 停止冒泡并禁止默认事件\r\n     * @param  {event} e 事件\r\n     * @return {null}\r\n     */\r\n    stopBubble: function(e) {\r\n        if (e && e.stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n        e.preventDefault();\r\n    },\r\n    /**\r\n     * 停止冒泡\r\n     * @param  {event} e 事件\r\n     * @return {null}\r\n     */\r\n    stopBubbleEx: function(e) {\r\n        if (e && e.stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/common/util/event.js","const m_util = require('common/util/index');\r\nconst m_search = require('helper/search');\r\nconst swPostMessage = require('helper/sw_post_message.js');\r\nlet catalogList = []; //目录列表\r\nlet catalogDict = {};\r\nlet articleList = []; //文件列表\r\nlet articleDict = {};\r\nlet sidebarList = []; //sidebar文件列表(sidebar文件也可以在articleDict中索引到)\r\nlet bookList = [];    //书籍列表\r\nlet bookDict = {};\r\nlet tagList = [];\r\nconst sidebarName = '$sidebar$';\r\nconst getSidebarPath = (path)=> path+'/'+sidebarName+'.md';\r\n\r\nBCD.addEvent('mkview', function(ele, option, data) {\r\n  let name = m_util.getRandomName();\r\n  let result;\r\n  if ('idx' in option) {\r\n    let item = data.list[option.idx];\r\n    result = item.summary;\r\n    if(result.length < item.content.length) {\r\n      result += '...';\r\n    }\r\n  } else {\r\n    result = data.content;\r\n  }\r\n\r\n  ele.attr('id', name);\r\n  setTimeout(function() { //dom元素展示出来之后再绑定，不然流程图等会有样式问题\r\n    editormd.markdownToHTML(name, {\r\n      markdown: result, //+ \"\\r\\n\" + $(\"#append-test\").text(),\r\n      // htmlDecode: true, // 开启 HTML 标签解析，为了安全性，默认不开启\r\n      htmlDecode: \"style,script,iframe\", // you can filter tags decode\r\n      //toc             : false,\r\n      tocm: true, // Using [TOCM]\r\n      //tocContainer    : \"#custom-toc-container\", // 自定义 ToC 容器层\r\n      //gfm             : false,\r\n      //tocDropdown     : true,\r\n      // markdownSourceCode : true, // 是否保留 Markdown 源码，即是否删除保存源码的 Textarea 标签\r\n      emoji: true,\r\n      taskList: true,\r\n      tex: true, // 默认不解析\r\n      flowChart: true, // 默认不解析\r\n      sequenceDiagram: true // 默认不解析\r\n    });\r\n    if (result.indexOf('[TOC]') > -1 && location.hash.indexOf('.md') > 0) { //兼容TOC目录\r\n      let baseHash = location.hash.replace(/\\.md\\/.*/, '.md');\r\n      $('#' + name).html($('#' + name).html()\r\n        .replace(/href=\"#([^\"]*)/g, function($0, $1) {\r\n          if ($1) {\r\n            return 'href=\"' + baseHash + '/' + $1;\r\n          }\r\n          return $0\r\n        }).replace(/name=\"([^\"]*)/g, function($0, $1) {\r\n          if ($1) {\r\n            return 'name=\"' + baseHash.substr(1) + '/' + $1;\r\n          }\r\n          return $0\r\n        }));\r\n    }\r\n  }, 0);\r\n});\r\n\r\nconst getName = (path) => {\r\n  let arr = path.match(/([^/.]+)[.\\w]+$/);\r\n  return arr ? arr[1] : '';\r\n}\r\n\r\nconst getURL = (o) => o.path + '?mtime=' + o.mtime;\r\n\r\nconst getPath = (pathWithSearch) => pathWithSearch.replace(/\\?[^?]+/, '');\r\n\r\n\r\nconst getSortContent = (content, paragraph=10) => {\r\n  let len = 500;\r\n  let minLen = len/2;\r\n  let ret = content.substring(0, len);\r\n  let partCount = 0;\r\n  let partIndex = 0;\r\n  ret.replace(/([^\\n]*)(\\n|<br>|<\\/p>)/g,function($0, $1, $2, idx){\r\n    partCount++;\r\n    if(partCount>\tparagraph && $1.length>10 && partIndex===0){\r\n      partIndex = idx;\r\n    }\r\n    if(partCount==15 && partIndex===0){\r\n      partIndex = idx;\r\n    }\r\n  });\r\n  if(partIndex>0){\r\n    ret = ret.substring(0, partIndex);\r\n    if (ret.length < len*0.7){\r\n      return ret;\r\n    }\r\n  }\r\n  let getContent = (str, reg) => {\r\n    let arr = str.split(reg).filter(o => !!o);\r\n    let count = 0;\r\n    if (arr && arr.length > 2) {\r\n      let idx = arr.length - 1;\r\n      if(arr.some((o, i) => {\r\n        count += o.length;\r\n        if (count > minLen && i > 1) {\r\n          idx = i;\r\n          return true;\r\n        }\r\n      })){\r\n        return str.substr(0, str.lastIndexOf(arr[idx])).replace(/[#\\s]+$/, '');\r\n      }\r\n      return str;\r\n    }\r\n  }\r\n  let con = getContent(ret, /\\s*#+\\s*/);\r\n  if (con) {\r\n    return con;\r\n  }\r\n  con = getContent(ret, /\\s+/);\r\n  if (con) {\r\n    return con;\r\n  }\r\n  return ret;\r\n}\r\n\r\n\r\nconst preload = (obj) => {\r\n  for (var pathWithSearch in obj) {\r\n    var path = getPath(pathWithSearch);\r\n    if (articleDict[path]) {\r\n      articleDict[path].content = obj[pathWithSearch];\r\n      articleDict[path].summary = getSortContent(obj[pathWithSearch]);\r\n    }\r\n  }\r\n  console.log('文章同步成功！可以离线使用');\r\n};\r\n\r\nconst init = (list) => {\r\n  catalogList = []; //目录列表\r\n  articleList = []; //文件列表\r\n  sidebarList = [];\r\n  bookList = [];\r\n  let tagSet = new Set();\r\n  let processArticle = (o) => {\r\n    let {\r\n      path = '', mtime\r\n    } = o;\r\n    if (o.isDirectory) {\r\n      let tags = path.split('/').slice(1);\r\n      tags.forEach(o => tagSet.add(o));\r\n      let item = {\r\n        path,\r\n        time: m_util.getTime(mtime),\r\n        href: '#!/' + encodeURIComponent(o.path),\r\n        title: path.slice(path.lastIndexOf('/') + 1),\r\n        tagList: tags\r\n      };\r\n      catalogList.push(item);\r\n    } else {\r\n      let tags = path.split('/').slice(1, -1);\r\n      tags.forEach(o => tagSet.add(o));\r\n      let item = {\r\n        path,\r\n        mtime,\r\n        href: '#!/' + encodeURIComponent(o.path),\r\n        title: getName(path),\r\n        time: m_util.getTime(mtime),\r\n        tagList: tags\r\n      };\r\n      if(articleDict[path]){\r\n        $.extend(articleDict[path], item);\r\n      }else{\r\n        articleDict[path] = item;\r\n      }\r\n      articleList.push(item);\r\n    }\r\n  };\r\n  list.forEach(processArticle);\r\n  articleList = articleList.filter(o=>{\r\n    if(o.title==sidebarName){\r\n      sidebarList.push(o);\r\n      return false;\r\n    }\r\n    return true;\r\n  });\r\n  catalogList = catalogList.filter(o=>{\r\n    if(articleDict[getSidebarPath(o.path)]){\r\n      bookDict[o.path] = o;\r\n      bookList.push(o);\r\n      return false;\r\n    }\r\n    catalogDict[o.path] = o;\r\n    return true;\r\n  });\r\n  articleList = articleList.sort((a, b) => {\r\n    return b.mtime - a.mtime;\r\n  });\r\n  tagList = [...tagSet];\r\n};\r\n\r\nlet processCount = 0;\r\n//先用缓存，请求回来再更新\r\nconst initArticle = new Promise((resolve)=>{\r\n  BCD.ajaxCache('./json/article.json', (data) => {\r\n    init(data);\r\n    processCount++;\r\n    if(processCount===2){ //如果网络请求失败，这里不会被执行\r\n      let totalList = sidebarList.concat(articleList);\r\n      let existDict = {};\r\n      totalList.forEach(o=>{\r\n        existDict[location.origin + '/' + o.path] = 1;\r\n      });\r\n\r\n      swPostMessage({\r\n        m: 'delete_not_exist_article',\r\n        dict: existDict\r\n      });\r\n      swPostMessage({\r\n        m: 'preload',\r\n        list: totalList.map(getURL)\r\n      }, preload);\r\n    }\r\n    resolve();\r\n    return 1; //缓存数据到localStorage\r\n  }, 0, 1E3, true);\r\n});\r\n\r\n//获取包含相关tag文章列表\r\nconst getTagArticles = (tag) => {\r\n  if (tag) {\r\n    return articleList.filter(o => o.tagList &&\r\n      o.tagList.indexOf(tag) > -1);\r\n  }\r\n  return articleList;\r\n};\r\n\r\nconst fetchContent = (list) => {\r\n  let ajaxList = list.filter(o => articleDict[o.path] && !articleDict[o.path].content).map(o => $.ajax({\r\n    url: getURL(o),\r\n    success(str) {\r\n      let item = Object.assign({}, o);\r\n      item.content = str;\r\n      item.summary = getSortContent(str);\r\n      articleDict[o.path] = item;\r\n    }\r\n  }));\r\n  return new Promise(function(resolve) {\r\n    $.when.apply(this, ajaxList).then(resolve, resolve);\r\n  });\r\n};\r\n\r\n\r\nconst getList = (method) => (tag, page = 0, count = 10) => {\r\n  page = parseInt(page || 0);\r\n  let start = page * count;\r\n  let totalList = method(tag);\r\n  let list = totalList.slice(start, start + count);\r\n  return fetchContent(list).then(() => {\r\n    return {\r\n      tag,\r\n      page,\r\n      count,\r\n      num: totalList.length,\r\n      list: list.map(o => articleDict[o.path]).filter(o => !!(o && o.content))\r\n    };\r\n  });\r\n};\r\n\r\nconst getChildCatalog = (path) => {\r\n  let catalog = catalogDict[path];\r\n  if (catalog) {\r\n    let tagList = catalog.tagList;\r\n    let tagLength = tagList.length + 1;\r\n    return bookList.concat(catalogList).filter(o => o.tagList.length &&\r\n      tagList.every((tag, i) => o.tagList.length==tagLength && tag == o.tagList[i]));\r\n  }\r\n  return [];\r\n};\r\n\r\nconst getCatalogArticles = (path) => {\r\n  let catalog = catalogDict[path];\r\n  if (catalog) {\r\n    let tagList = catalog.tagList;\r\n    return articleList.filter(o => o.tagList.length &&\r\n      tagList.every((tag, i) => tag == o.tagList[i])).sort((a, b)=>a.tagList.length - b.tagList.length);\r\n  }\r\n  return [];\r\n};\r\n\r\nconst testItem = (reg, item) => {\r\n  let testType = 0;\r\n  let obj = {};\r\n  let searchWeight = 0;\r\n  let weightDict = {};\r\n  if (reg.test(item.title)) {\r\n    obj.title = item.title.replace(reg, function($0) {\r\n      if(!weightDict[$0]){\r\n        weightDict[$0] = 2;\r\n      }\r\n      return '<span class=\"text-danger\">' + $0 + '</span>';\r\n    });\r\n    testType += 1;\r\n  }\r\n  if (item.content && reg.test(item.content)) {\r\n    let pointList = [];\r\n    obj.content = item.content.replace(reg, function($0, point) {\r\n      if(!weightDict[$0]){\r\n        weightDict[$0] = 1;\r\n      }else if(weightDict[$0]==2){\r\n        weightDict[$0]++;\r\n      }\r\n      let weight = /\\w/.test($0) ? 2 : $0.length;\r\n      pointList.push({\r\n        point,\r\n        weight\r\n      });\r\n      return '<span class=\"text-danger\">' + $0 + '</span>';\r\n    });\r\n    pointList = pointList.sort((a, b) =>b.weight - a.weight);\r\n    let start = pointList[0].point - 20;\r\n    let summary = item.content.substr(start < 0 ? 0 : start);\r\n    start = summary.search(/[。\\n\\r]/);\r\n    if (start < 20) {\r\n      summary = getSortContent(summary.substr(start).replace(/^[。\\s]*/, ''), 5);\r\n    } else {\r\n      summary = getSortContent(summary.substr(10).replace(/^[。\\s]*/, ''), 5);\r\n    }\r\n    obj.summary = summary.replace(reg, function($0) {\r\n      return '<span class=\"text-danger\">' + $0 + '</span>';\r\n    });\r\n    testType += 2;\r\n  }\r\n  obj.testType = testType;\r\n  for(var key in weightDict){\r\n    searchWeight += /\\w/.test(key) ? weightDict[key] : key.length * weightDict[key];\r\n  }\r\n  obj.searchWeight = searchWeight;\r\n  return Object.assign({}, item, obj);\r\n};\r\n\r\n\r\nconst searchList = (word, callback) => {\r\n  let reg = m_search.getGlobalRegex(word);\r\n  let fitList = [];\r\n  let remainList = [];\r\n  let ajaxList = [];\r\n  let totalList = articleList.filter(o=>o);\r\n\r\n  const searchCallback = (list) => callback({\r\n    totalNum: totalList.length,\r\n    checkNum: list.length,\r\n    searchWord: word,\r\n    list: list.filter(o => o.testType > 0).sort((a,b)=>b.searchWeight-a.searchWeight)\r\n  });\r\n  const batchProcess = (list, next) => {\r\n    let subList = list.splice(0, 10);\r\n    fetchContent(subList).then(() => {\r\n      searchCallback(subList.map(o => testItem(reg, articleDict[o.path])));\r\n      if (list.length) {\r\n        batchProcess(list, next);\r\n      } else if (next) {\r\n        next();\r\n      }\r\n    })\r\n  };\r\n  totalList.forEach(o => {\r\n    let item = articleDict[o.path];\r\n    if (item) {\r\n      let testObj = testItem(reg, item);\r\n      if (item.content) {\r\n        fitList.push(testObj);\r\n      } else if (testObj.testType > 0) {\r\n        ajaxList.push(item);\r\n      } else {\r\n        remainList.push(o);\r\n      }\r\n    }\r\n  });\r\n\r\n  searchCallback(fitList);\r\n  batchProcess(ajaxList, function() {\r\n    batchProcess(remainList);\r\n  })\r\n  return remainList;\r\n};\r\n\r\n\r\n\r\n//搜索直达\r\nconst searchDirect = (word) => {\r\n  let reg = m_search.getGlobalRegex(word);\r\n  return articleList.filter(o => reg.test(o.title)).map(o => {\r\n    return {\r\n      href: o.href,\r\n      title: o.title.replace(reg, function($0) {\r\n        return '<span class=\"text-danger\">' + $0 + '</span>';\r\n      })\r\n    };\r\n  })\r\n};\r\n\r\n\r\nmodule.exports = {\r\n  getName,\r\n  initArticle,\r\n  catalogDict,\r\n  articleDict,\r\n  hasCatalog: (path) => !!catalogDict[path],\r\n  hasArticle: (path) => !!articleDict[path],\r\n  hasBook: (path) => !!bookDict[path],\r\n  getCatalogs: () => catalogList,\r\n  getBooks: () => bookList,\r\n  getTagArticles,\r\n  getTags: () => tagList,\r\n  getSidebarPath,\r\n  getArticleList: () => articleList,\r\n  getListByCatalog: getList(getCatalogArticles),\r\n  getChildCatalog,\r\n  getListByTag: getList(getTagArticles),\r\n  getArticleContent: (path) => fetchContent([articleDict[path]])\r\n    .then(() => articleDict[path]),\r\n  searchDirect,\r\n  searchList\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/article.js","const createNGram = (n) => (str) => {\r\n  let arr = [];\r\n  let end = str.length - n + 1;\r\n  for (var i = 0; i < end; i++) {\r\n    arr.push(str.substr(i, n));\r\n  }\r\n  return arr;\r\n}\r\n\r\nconst gramDict = {\r\n  4: createNGram(4),\r\n  3: createNGram(3),\r\n  2: createNGram(2)\r\n};\r\n\r\nconst getWordList = (str) => {\r\n  let wordList = [str];\r\n  let processStrict = (str) => str.replace(/['‘’][^'‘’]*['‘’]|[\"”“][^\"”“]*[\"”“]/g, function($0) {\r\n    wordList.push($0.replace(/['‘’\"”“]/g, ''));\r\n    return ' ';\r\n  });\r\n\r\n\r\n  let processChiese = (str) => str.replace(/[\\u4e00-\\u9fff\\uf900-\\ufaff]+/g, function($0) {\r\n    wordList.push($0);\r\n    for(var i = 4; i >1 ; i--){\r\n      if($0.length > i){\r\n        wordList.push.apply(wordList, gramDict[i]($0));\r\n      }\r\n    }\r\n    return ' ';\r\n  });\r\n\r\n  let processEnglish = (str) => {\r\n    wordList.push.apply(wordList, str.split(/\\s+/).filter(o=>!!o));\r\n  };\r\n\r\n  processEnglish(processChiese(processStrict(str)));\r\n  return wordList;\r\n};\r\n\r\nmodule.exports = {\r\n  getWordList,\r\n  getGlobalRegex: (str) => new RegExp(getWordList(str).join('|'), 'ig')\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/search.js","const m_util = require('common/util');\r\n\r\nlet index = 0;\r\nlet postMessage = function(){};\r\nlet callbackDict = {};\r\n\r\nif (navigator.serviceWorker) {\r\n  navigator.serviceWorker.addEventListener('message', function(event) {\r\n    let {cbid, resp} = event.data;\r\n    if(cbid && callbackDict[cbid]){\r\n      callbackDict[cbid](resp);\r\n      delete callbackDict[cbid];\r\n    }\r\n  }); //页面通过监听service worker的message事件接收service worker的信息\r\n  postMessage = function(req, callback){\r\n    if(navigator.serviceWorker.controller && navigator.serviceWorker.controller.state=='activated'){\r\n      index++;\r\n      let obj = {req};\r\n      if(callback){\r\n        obj.cbid = m_util.getRandomName() + index;\r\n        callbackDict[obj.cbid] = callback;\r\n      }\r\n      navigator.serviceWorker.controller.postMessage(obj);  //页面向service worker发送信息\r\n    }\r\n  }\r\n}\r\n\r\n\r\nmodule.exports = postMessage;//postMessage(message, callback)\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/sw_post_message.js","let arr = location.host.split(\".\");\r\nlet isLocalhost = arr.length === 1;\r\nlet username = isLocalhost ? \"swblog\" : arr[0];\r\nlet config = {\r\n  \"author\": username,\r\n  \"nav\": [\r\n    [\"Home\", \"#!/index\"],\r\n    [\"About\", \"#!/blog/about.md\"]\r\n  ]\r\n};\r\nlet searchIssueURL;\r\nlet newIssueURL;\r\n\r\nconst update = ()=>{\r\n  let author = config.author;\r\n  config.logoTitle = config.logoTitle || author+\"的博客\";\r\n  searchIssueURL = 'https://github.com/'+author+'/'+author+'.github.io/issues?utf8=%E2%9C%93&q=';\r\n  newIssueURL = 'https://github.com/' +author+'/'+author+'.github.io/issues/new?title=';\r\n  if(window.CONFIG){\r\n    CONFIG.username = username = config.author;\r\n  }\r\n};\r\nupdate();\r\n\r\n//先用缓存，请求回来再更新\r\nconst getConfig = new Promise((resolve)=>{\r\n  BCD.ajaxCache('./json/config.json', (data) => {\r\n    config = data || config;\r\n    if(config.author){\r\n      update();\r\n      resolve();\r\n      return 1; //缓存数据到localStorage\r\n    }\r\n    resolve();\r\n  }, 0, 1E3, true);\r\n});\r\n\r\n\r\n\r\n\r\nwindow.CONFIG = module.exports = {\r\n  username,\r\n  getIndex: ()=> config.nav && config.nav[0] && config.nav[0][1] || \"\",\r\n  isLocalhost,\r\n  getConfigSync: () => config,\r\n  getConfig,\r\n  getNewIssueURL: (title)=> newIssueURL + decodeURIComponent(isLocalhost ? \"localhost测试评论\" : title),\r\n  getSearchIssueURL: (title)=> newIssueURL + decodeURIComponent(isLocalhost ? \"localhost测试评论\" : title)\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/config.js","const m_util = require('common/util');\r\nconst m_article = require('model/article');\r\nconst m_config = require('model/config');\r\n\r\n\r\nBCD.addEvent('navigator_search', function(ele){\r\n  ele.html('<div class=\"form-group open\">'+\r\n  '  <input type=\"text\" class=\"form-control\" placeholder=\"Search\">'+\r\n  '  <ul class=\"dropdown-menu\" style=\"right:auto;display:none\"></ul>'+\r\n  '</div>'+\r\n  '<button type=\"submit\" class=\"btn btn-primary\">Submit</button>');\r\n  let viewInput = ele.find('input');\r\n  let viewDrop = ele.find('ul').setView({\r\n    template:'<%(obj||[]).forEach(function(o){%>'+\r\n    '<li><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a></li>'+\r\n    '<%})%>'\r\n  });\r\n  let viewGroup = ele.find('.form-group');\r\n  const getWord = ()=> viewInput.val().trim();\r\n  const doSearch = ()=>{\r\n    let hash = '#!/search/'+encodeURIComponent(getWord());\r\n    if(BCD.getHash(0)=='search'){\r\n      BCD.replaceHash(hash);\r\n    }else{\r\n      BCD.go(hash);\r\n    }\r\n    setTimeout(function(){\r\n      viewInput[0].focus(); //延时才能自动focus\r\n    }, 300);\r\n  };\r\n  ele.find('button').on('click', function(e){\r\n    m_util.stopBubble(e);\r\n    let word = getWord();\r\n    if(word){\r\n      doSearch();\r\n    }\r\n  });\r\n  let selectLi = null;\r\n  let index = -1;\r\n  let oldWord = '';\r\n  viewInput.on('blur', function(){\r\n    viewDrop.hide();\r\n  });\r\n  ele.on('keyup', function(e){ //keypress要慢一拍 keypress input keyup\r\n    //console.log(e);\r\n    let word = getWord();\r\n    if(word){\r\n      if(e.keyCode==32){\r\n        return doSearch();\r\n      }\r\n      let lis = viewDrop.find('a');\r\n      if(e.keyCode==13){\r\n        if(selectLi){\r\n          selectLi.trigger('click');\r\n        }else{\r\n          doSearch();\r\n        }\r\n      }\r\n      if(e.keyCode==40){\r\n        index++;\r\n        if(index >= lis.length){\r\n          index = 0;\r\n        }\r\n      }\r\n      if(e.keyCode==38){\r\n        index--;\r\n        if(index <= -lis.length){\r\n          index = 0;\r\n        }\r\n      }\r\n\r\n      if(word==oldWord){ //上下选择\r\n        if(e.keyCode==40 || e.keyCode==38){\r\n          lis.css('background-color','');\r\n          selectLi = lis.eq(index);\r\n          selectLi.css('background-color','aliceblue');\r\n        }\r\n\r\n        return;\r\n      }\r\n      oldWord = word;\r\n      let list = m_article.searchDirect(word);\r\n      if(list.length){\r\n        index = -1;\r\n        selectLi = null;\r\n        return viewDrop.reset(list);\r\n      }\r\n    }\r\n    viewDrop.hide();\r\n  });\r\n})\r\n\r\n\r\n //顶部导航\r\nmodule.exports = function(option) {\r\n  let viewHeader = $('<header class=\"navbar navbar-inverse navbar-fixed-top bs-docs-nav\" role=\"banner\"></header>');\r\n  option = $.extend({\r\n    name: 'common/header',\r\n    getData: function() {\r\n      return m_config.getConfigSync()\r\n    },\r\n    template: '  <div class=\"container\">' +\r\n      '    <div class=\"navbar-header\">' +\r\n      '      <button class=\"navbar-toggle\" type=\"button\" data-toggle=\"collapse\" data-target=\".bs-navbar-collapse\">' +\r\n      '        <span class=\"sr-only\">Toggle navigation</span>' +\r\n      '        <span class=\"icon-bar\"></span>' +\r\n      '        <span class=\"icon-bar\"></span>' +\r\n      '        <span class=\"icon-bar\"></span>' +\r\n      '      </button>' +\r\n      '      <a data-on=\"?m=go\" data-url=\"<%=CONFIG.getIndex()%>\" class=\"logo-link\" style=\"padding: 12px;\"><%-obj.logoTitle%></a>' +\r\n      '    </div>' +\r\n      '    <nav class=\"collapse navbar-collapse bs-navbar-collapse\" role=\"navigation\">' +\r\n      '      <div class=\"navbar-form navbar-right\" data-on=\"?m=navigator_search\"></div>'+\r\n      '      <ul class=\"nav navbar-nav\"><%(obj.nav || []).forEach(function(o){%>' +\r\n      '        <li class=\"<%=location.hash==o[1] ? \"active\" : \"\"%>\"><a data-on=\"?m=replaceHash\" data-url=\"<%=o[1]%>\"><%-o[0]%></a></li>' +\r\n      '        <%})%>' +\r\n      '      </ul>' +\r\n      '    </nav>' +\r\n      '  </div>'\r\n  }, option);\r\n  return viewHeader.setView(option);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/navigator.js","const c_footer = require('card/common/footer');\r\nconst c_mainContainer = require('card/common/main_container');\r\nconst m_article = require('model/article');\r\nconst m_initOption = require('helper/init_option');\r\nconst c_pannel = require('card/blog/pannel');\r\nconst c_pannelList = require('card/blog/pannel_list');\r\nconst c_articleList = require('card/blog/article_list');\r\n\r\n\r\n\r\nmodule.exports = function (page, key) {\r\n  let viewBody = c_mainContainer();\r\n  let viewTop;\r\n  let viewList = viewBody.find('[data-selector=\"main\"]');\r\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\r\n  viewList.setView(c_articleList());\r\n  viewBody.addView(viewPannelList);\r\n\r\n  let viewFoot = c_footer();\r\n  let currentHash;\r\n  page.setView({\r\n    start: function (hasRender) {\r\n      if (hasRender && currentHash == location.hash && BCD.history.getCode() == -1) {\r\n        return m_initOption.notRender(hasRender);\r\n      }\r\n      currentHash = location.hash;\r\n      viewList.empty();\r\n      if (key == 'index') {\r\n        m_article.getListByTag(0, BCD.getHash(1)).then((data) => {\r\n          data.title = \"最新文章\";\r\n          data.hrefHead = '#!/index';\r\n          viewList.reset(data);\r\n        });\r\n      } else if (key == 'tag') {\r\n        let tag = BCD.getHash(1);\r\n        m_article.getListByTag(tag, BCD.getHash(2)).then((data) => {\r\n          data.title = '\"' + tag + '\" 的最新文章';\r\n          data.hrefHead = '#!/tag/' + tag;\r\n          viewList.reset(data);\r\n        });\r\n      } else if (m_article.hasCatalog(key)) {\r\n        let pageNum = parseInt(BCD.getHash(1) || 0);\r\n        if (pageNum === 0) {\r\n          if (viewTop) {\r\n            viewTop.show();\r\n          } else {\r\n            viewTop = c_pannel().reset({\r\n              isInline: true,\r\n              list: m_article.getChildCatalog(key).map(o => {\r\n                return {\r\n                  href: o.href,\r\n                  title: o.title\r\n                }\r\n              })\r\n            });\r\n          }\r\n          viewList.parent().prepend(viewTop);\r\n          console.log('getChildCatalog', key, m_article.getChildCatalog(key));\r\n        } else if (viewTop) {\r\n          viewTop.hide();\r\n        }\r\n        m_article.getListByCatalog(key, pageNum).then((data) => {\r\n          data.title = '\"' + data.tag.replace(/^[^/]+\\//, '') + '\" 的最新文章';\r\n          data.hrefHead = '#!/' + BCD.getHash(0);\r\n          viewList.reset(data);\r\n        });\r\n      }\r\n    },\r\n    title: '文章列表',\r\n    viewList: [viewBody, viewFoot]\r\n  })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/list.js"," //页脚\r\nconst m_config = require('model/config');\r\nmodule.exports = function(option) {\r\n  let viewHeader = $('<footer></footer>');\r\n  option = $.extend({\r\n    name: 'common/footer',\r\n    getData: function() {\r\n      return m_config.getConfigSync()\r\n    },\r\n    template:\r\n        '<div class=\"container\">'+\r\n        '  <hr>'+\r\n        '  <p class=\"text-center\">Copyright <%-obj.author%> © <%=new Date().getFullYear()%>. All rights reserved.</p>'+\r\n        '</div>'\r\n  }, option);\r\n  return viewHeader.setView(option);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/footer.js","module.exports = ()=> $('<div class=\"container\">' +\r\n  '  <div class=\"row\">' +\r\n  '    <div class=\"col-sm-7 col-md-8 col-lg-9\">'+\r\n  '     <div data-selector=\"main\"></div></div>' +\r\n  '    <div class=\"col-sm-5 col-md-4 col-lg-3\" data-selector=\"panel\"></div>' +\r\n  '  </div>' +\r\n  '</div>');\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/main_container.js","function anchorBack() {\r\n    if (history.state && history.state.scrollY) { //支持锚点返回\r\n        if (BCD.history.getCode() == -1) {\r\n            scrollTo(0, history.state.scrollY);\r\n        }\r\n        BCD.extendState({ //保证刷新可回到头部\r\n            scrollY: 0\r\n        });\r\n    }\r\n}\r\n\r\n//带锚点返回，不reset子view\r\nfunction notRender(hasRender) {\r\n    if (hasRender) {\r\n        BCD.getPage().show();\r\n        anchorBack();\r\n        return 'show';\r\n    }\r\n}\r\nmodule.exports = {\r\n    notRender,\r\n    anchorBack\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/init_option.js"," //顶部导航\r\nmodule.exports = function(option) {\r\n  let view = $('<div class=\"panel panel-primary\"></div>');\r\n  option = $.extend({\r\n    name: 'blog/panel',\r\n    template:\r\n      '<%if(obj.title){%><div class=\"panel-heading\">' +\r\n      '  <h4><%-obj.title%></h4>' +\r\n      '</div><%}%>' +\r\n      '<div class=\"panel-body\">' +\r\n      '  <%if(obj.isInline){%>' +\r\n      '    <ul class=\"list-inline\">'+\r\n      '     <%(obj.list || []).forEach(function(o){%>' +\r\n      '      <%if(o.href){%>'+\r\n      '       <li><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a></li>'+\r\n      '      <%}else{%>'+\r\n      '       <li><a data-on=\"?m=go\" data-url=\"#!/tag/<%=o%>\"><%=o%></a></li>'+\r\n      '      <%}%>' +\r\n      '     <%})%>'+\r\n      '    </ul>' +\r\n      '  <%}else{%>' +\r\n      '    <ul class=\"list-group\">' +\r\n      '     <%(obj.list || []).forEach(function(o){%>' +\r\n      '      <li class=\"list-group-item\"><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a>'+\r\n      '       <%=o.time ? \"<span style=\\\\\\\"color: #a2a34f;\\\\\\\">(\"+o.time+\")</span>\" : \"\"%></li>' +\r\n      '     <%})%>'+\r\n      '    </ul>' +\r\n      '    <%}%>' +\r\n      '</div>',\r\n    end: function(data){\r\n      if(!(data && data.list && data.list.length)){\r\n        this.hide();\r\n        return 'hide';\r\n      }\r\n    }\r\n  }, option);\r\n  return view.setView(option);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pannel.js","const m_article = require('model/article');\r\nconst m_readHistory = require('model/read_history');\r\nconst c_pannel = require('card/blog/pannel');\r\nmodule.exports = (view) => {\r\n  let viewPannelBook = c_pannel({\r\n    data: {\r\n      title: '书籍',\r\n      list: m_article.getBooks().map(o => {\r\n        return {\r\n          href: o.href,\r\n          title: o.title,\r\n          time: o.time\r\n        }\r\n      })\r\n    }\r\n  });\r\n  let viewPannelCatalog = c_pannel({\r\n    data: {\r\n      title: '分类',\r\n      list: m_article.getCatalogs().filter(o => o.tagList.length === 1).map(o => {\r\n        return {\r\n          title: o.title,\r\n          href: o.href\r\n        }\r\n      })\r\n    }\r\n  });\r\n  let viewPannelTag = c_pannel({\r\n    data: {\r\n      isInline: true,\r\n      title: '标签',\r\n      list: m_article.getTags()\r\n    }\r\n  });\r\n\r\n  let viewPannelRecommendPost = c_pannel({\r\n    data: {\r\n      title: '推荐阅读',\r\n      list: m_readHistory.getRecommend().map(o => {\r\n        return {\r\n          href: o.href,\r\n          title: o.title,\r\n          time: o.time\r\n        }\r\n      })\r\n    }\r\n  });\r\n\r\n  return view.setView({\r\n    viewList: [viewPannelBook, viewPannelCatalog, viewPannelTag, viewPannelRecommendPost]\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pannel_list.js","const m_config = require('model/config');\r\nconst m_article = require('model/article');\r\nlet storageKey = 'read_history';\r\nlet readHistory = {};\r\nconst init = ()=> {\r\n  try{\r\n    readHistory = $.extend({}, JSON.parse(localStorage.getItem(storageKey)), readHistory);\r\n  }catch(e){}\r\n};\r\n\r\nm_config.getConfig.then(()=>{\r\n  storageKey = 'read_history_' + m_config.username;\r\n  init();\r\n})\r\n\r\nconst addHistory = (path)=>{\r\n  readHistory[path] = Date.now();\r\n  localStorage.setItem(storageKey, JSON.stringify(readHistory));\r\n};\r\n\r\nconst getRecommend = ()=>{\r\n  let list = [];\r\n  let currentPath = decodeURIComponent(location.hash.replace('#!/', ''));\r\n  let articleList = m_article.getArticleList();\r\n  articleList.some(function(o){\r\n    if(!readHistory[o.path] && o.path!=currentPath){\r\n      list.push(o);\r\n      if(list.length > 10){\r\n        return true;\r\n      }\r\n    }\r\n  });\r\n  return list;\r\n};\r\nmodule.exports = {\r\n  addHistory,\r\n  getRecommend\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/read_history.js"," //文章列表\r\nmodule.exports = function(option) {\r\n  return $.extend({\r\n    name: 'blog/article_list',\r\n    template: '<h3><%=obj.title%></h3>' +\r\n      '<%if(!(obj.list && obj.list.length)){%>'+\r\n      '<br><hr><center><h3>暂无内容</h3></center>'+\r\n      '<%}else{(obj.list || []).forEach(function(o, idx){%><article>' +\r\n      '  <h2><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%-o.title%></a></h2>' +\r\n      '  <div class=\"row\">' +\r\n      '    <div class=\"group1 col-sm-6 col-md-6\">' +\r\n      '      <span class=\"glyphicon glyphicon-folder-open\"></span><%(o.tagList||[]).forEach(function(item, i, arr){%>'+\r\n      '       <%=i ? \"&nbsp;>&nbsp;\" : \"&nbsp;\"%><a data-on=\"?m=go\" '+\r\n      '       data-url=\"#!/<%=encodeURIComponent([\"blog\"].concat(arr.slice(0, i+1)).join(\"/\"))%>\"><%=item%></a><%})%>' +\r\n      '    </div>' +\r\n      '    <div class=\"group2 col-sm-6 col-md-6\">' +\r\n      '      &nbsp;&nbsp;<span class=\"glyphicon glyphicon-time\"></span><%-o.time%>' +\r\n      '    </div>' +\r\n      '  </div>' +\r\n      '  <hr>' +\r\n      '  <div data-on=\"?m=mkview&idx=<%=idx%>\">'+\r\n      '  </div><br />' +\r\n      '' +\r\n      '  <p class=\"text-right\">' +\r\n      '    <a data-on=\"?m=go\" data-url=\"<%=o.href%>\">' +\r\n      '      continue reading...' +\r\n      '    </a>' +\r\n      '  </p>' +\r\n      '  <hr>' +\r\n      '</article><%})%>' +\r\n      '' +\r\n      '<ul class=\"pager\">' +\r\n      '  <li class=\"previous\"><a <%if(obj.page==0){%>style=\"opacity: 0.5;\"<%}else{%>'+\r\n      'data-on=\"?m=go\" data-url=\"<%=obj.hrefHead+\"/\"+(obj.page-1)%>\"<%}%>>&larr; Previous</a></li>' +\r\n      '  <li class=\"next\"><a <%if(obj.page==Math.floor(obj.num/obj.count)){%>style=\"opacity: 0.5;\"<%}else{%>'+\r\n      'data-on=\"?m=go\" data-url=\"<%=obj.hrefHead+\"/\"+(obj.page+1)%>\"<%}%>>Next &rarr;</a></li>' +\r\n      '</ul><%}%>'\r\n  }, option);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/article_list.js","const s_mainContainer = require('card/common/slidebar_container');\r\nconst m_article = require('model/article');\r\nconst c_articleList = require('card/blog/article_list');\r\n\r\n\r\n\r\nmodule.exports = function(page, key) {\r\n  page.html(s_mainContainer);\r\n  let viewContent = page.find('[data-selector=\"main\"]');\r\n  let viewSlidebar = page.find('[data-selector=\"slidebar\"]');\r\n  let slidebar;\r\n  let currentHash;\r\n  viewSlidebar.setView({\r\n    name: 'blog/slidebar',\r\n    template: '<div data-on=\"?m=mkview\"></div>'\r\n  });\r\n\r\n  viewContent.setView({\r\n    name: 'blog/blog',\r\n    template: '<div data-on=\"?m=mkview\"></div>'\r\n  });\r\n\r\n\r\n  page.setView({\r\n    title: m_article.getName(key),\r\n    start: function(){\r\n      if(currentHash!==location.hash){\r\n        viewContent.empty();\r\n        currentHash = location.hash;\r\n      }\r\n      this.show();\r\n      m_article.getArticleContent(m_article.getSidebarPath(key)).then((data)=>{\r\n        let baseHash = '#!/'+BCD.getHash(0);\r\n        if(!slidebar){\r\n          slidebar = $.extend({}, data);\r\n          let content = slidebar.content || '';\r\n          let chapters = slidebar.chapters = [];\r\n\r\n          slidebar.content = content.replace(/<%(([^>]|[^%]>)+)%>/g,function($0, $1){\r\n            let item = {};\r\n            if(/^\\[[^)]+\\)$/.test($1)){//这种格式：[描述](相对与当前目录的地址)\r\n              let arr = $1.substr(1, $1.length-2).split(/\\]\\s*\\(/);\r\n              item.title = arr[0] || '';\r\n              item.href = baseHash + '/' + (arr[1] || '');\r\n            }else{\r\n              item.title = $1;\r\n              item.href = baseHash + '/'+$1+'.md';\r\n            }\r\n            chapters.push(item);\r\n            return '<a data-on=\"?m=replaceHash\" data-url=\"'+item.href+'\">'+item.title+'</a>';\r\n          });\r\n          viewSlidebar.reset(slidebar);\r\n          setTimeout(function(){\r\n            viewSlidebar.bindEvent();\r\n          });\r\n        }\r\n        let fileName = location.hash.replace(baseHash, '');\r\n        if(fileName){\r\n          m_article.getArticleContent(key + fileName).then((data)=>{\r\n            viewContent.reset(data);\r\n          });\r\n        }else{\r\n          return BCD.replaceHash(slidebar.chapters[0].href);\r\n        }\r\n      });\r\n    }\r\n  })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/book.js","module.exports = \r\n  '  <div class=\"row\">' +\r\n  '    <div class=\"slidebar col-sm-5 col-md-4 col-lg-3\" data-selector=\"slidebar\"></div>' +\r\n  '    <div class=\"col-sm-offset-5 col-md-offset-4 col-lg-offset-3 col-sm-7 col-md-8 col-lg-9\" data-selector=\"main\"></div>' +\r\n  '  </div>';\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/slidebar_container.js","//有侧边栏的内容展示\r\n\r\nconst c_mainContainer = require('card/common/main_container');\r\nconst c_footer = require('card/common/footer');\r\nconst m_article = require('model/article');\r\nconst m_readHistory = require('model/read_history');\r\nconst c_pannelList = require('card/blog/pannel_list');\r\nconst c_content = require('card/blog/content');\r\nconst m_initOption = require('helper/init_option');\r\n\r\n\r\n\r\nmodule.exports = function(page, key) {\r\n  let viewBody = c_mainContainer();\r\n  let viewContent = viewBody.find('[data-selector=\"main\"]');\r\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\r\n  viewContent.setView(c_content({\r\n    delay: true\r\n  }));\r\n  viewBody.addView(viewContent);\r\n  viewBody.addView(viewPannelList);\r\n\r\n  let viewFoot = c_footer();\r\n  page.setView({\r\n    start: function(hasRender){\r\n      if(hasRender){\r\n        return m_initOption.notRender(hasRender);\r\n      }\r\n      if(m_article.hasArticle(key)){\r\n        m_article.getArticleContent(key).then((data)=>{\r\n          m_readHistory.addHistory(key);\r\n          page.setView({title: data.title});\r\n          document.title = data.title;\r\n          viewContent.reset(data);\r\n        });\r\n      }\r\n    },\r\n    viewList: [viewBody, viewFoot]\r\n  })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/content.js","window.CONFIG = require('model/config')\r\n//单个文章\r\nmodule.exports = function (option) {\r\n  return $.extend({\r\n    name: 'blog/content',\r\n    template:\r\n      '<h1><%=obj.title%></h1>' +\r\n      '  <div class=\"row\">' +\r\n      '    <div class=\"group1 col-sm-6 col-md-6\">' +\r\n      '      <span class=\"glyphicon glyphicon-folder-open\"></span><%(obj.tagList||[]).forEach(function(item, i, arr){%>'+\r\n      '       <%=i ? \"&nbsp;>&nbsp;\" : \"&nbsp;\"%><a data-on=\"?m=go\" '+\r\n      '       data-url=\"#!/<%=encodeURIComponent([\"blog\"].concat(arr.slice(0, i+1)).join(\"/\"))%>\"><%=item%></a><%})%>' +\r\n      '    </div>' +\r\n      '    <div class=\"group2 col-sm-6 col-md-6\">' +\r\n      '      &nbsp;&nbsp;<span class=\"glyphicon glyphicon-time\"></span><%-obj.time%>' +\r\n      '    </div>' +\r\n      '  </div>' +\r\n      '  <hr>' +\r\n      '  <div data-on=\"?m=mkview\">' +\r\n      '  </div><br />' +\r\n      '  <hr>' +\r\n      '</article>' +\r\n      '<ul class=\"pager\">' +\r\n      '  <li class=\"previous\"><a data-on=\"?m=back\">← 返回</a></li>' +\r\n      ' <li><a target=\"_blank\" href=\"<%=CONFIG.getSearchIssueURL(obj.title)%>\">查看评论</a></li>' +\r\n      ' <li class=\"next\"><a target=\"_blank\" href=\"<%=CONFIG.getNewIssueURL(obj.title)%>\">去评论 &rarr;</a></li>' +\r\n      '</ul>'\r\n  }, option);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/content.js","//针对导航的，没有侧边栏的内容展示\r\n\r\nconst c_mainContainer = require('card/common/main_container');\r\nconst c_footer = require('card/common/footer');\r\nconst m_article = require('model/article');\r\nconst m_initOption = require('helper/init_option');\r\n\r\n\r\n\r\nmodule.exports = function(page) {\r\n  let viewBody = $('<div class=\"container\" style=\"min-height:'+((window.innerHeight||640) -200)+'px\"/>').setView({\r\n   name: 'blog/blog',\r\n   delay: true,\r\n   template: '<div data-on=\"?m=mkview\"></div>'\r\n });\r\n\r\n  let viewFoot = c_footer();\r\n  page.setView({\r\n    start: function(hasRender){\r\n      if(hasRender && BCD.history.getCode()==-1){\r\n        return m_initOption.notRender(hasRender);\r\n      }\r\n      let key = location.hash.replace('#!/', '');\r\n      if(m_article.hasArticle(key)){\r\n        m_article.getArticleContent(key).then((data)=>{\r\n          page.setView({title: data.title});\r\n          document.title = data.title;\r\n          viewBody.reset(data);\r\n        });\r\n      }\r\n    },\r\n    viewList: [viewBody, viewFoot]\r\n  })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/blog.js","const c_footer = require('card/common/footer');\r\nconst c_mainContainer = require('card/common/main_container');\r\nconst m_initOption = require('helper/init_option');\r\nconst c_pannelList = require('card/blog/pannel_list');\r\nconst m_pullArticle = require('card/blog/pull_article');\r\n\r\nmodule.exports = function (page, key) {\r\n  let viewBody = c_mainContainer();\r\n  let viewList = viewBody.find('[data-selector=\"main\"]');\r\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\r\n  viewList.setView({\r\n    viewList: [m_pullArticle.container]\r\n  });\r\n\r\n  viewBody.addView(viewList);\r\n  viewBody.addView(viewPannelList);\r\n\r\n  let viewFoot = c_footer();\r\n  let oldWord = '';\r\n  page.setView({\r\n    start: function (hasRender) {\r\n      let word = decodeURIComponent(BCD.getHash(1));\r\n      if (hasRender && oldWord == word) {\r\n        return m_initOption.notRender(true);\r\n      }\r\n      oldWord = word;\r\n      m_pullArticle.init(word);\r\n    },\r\n    title: '搜索结果',\r\n    viewList: [viewBody, viewFoot]\r\n  })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/search.js","/**\r\n * 不断增加的列表\r\n */\r\nconst m_article = require('model/article');\r\nvar container = $('<div style=\"display:none;\">' +\r\n  '<div data-selector=\"tips\" style=\"margin: 20px;font-size: 20px;\"></div>' +\r\n  '<div data-selector=\"pull_list\"></div>' +\r\n  '</div>');\r\n\r\nvar viewRank = $(container.find('[data-selector=\"pull_list\"]'));\r\nvar viewTips = $(container.find('[data-selector=\"tips\"]'));\r\n\r\nviewRank.setView({\r\n  full: 'append',\r\n  template: '<%(obj.list || []).forEach(function(o, i, list){%><article>' +\r\n    '  <h2><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a></h2>' +\r\n    '  <div class=\"row\">' +\r\n    '    <div class=\"col-sm-6 col-md-6\">' +\r\n    '      &nbsp;&nbsp;<span class=\"glyphicon glyphicon-time\"></span><%-o.time%>' +\r\n    '    </div>' +\r\n    '  </div>' +\r\n    '  <hr>' +\r\n    '  <div data-on=\"?m=mkview&idx=<%=i%>\">' +\r\n    '  </div><br />' +\r\n    '  <p class=\"text-right\">' +\r\n    '    <a data-on=\"?m=go\" data-url=\"<%=o.href%>\">' +\r\n    '      continue reading...' +\r\n    '    </a>' +\r\n    '  </p>' +\r\n    '  <%if(i<list.length-1)print(\"<hr>\")%>' +\r\n    '</article><%})%>'\r\n});\r\n\r\n\r\nmodule.exports = {\r\n  container,\r\n  init: (word) => {\r\n    let count = 0;\r\n    let processCount = 0;\r\n    let keyWord = '<span class=\"text-danger\">'+word+'</span>'\r\n    viewTips.html('正在搜索：'+keyWord);\r\n    viewRank.empty();\r\n    m_article.searchList(word, function(data){\r\n      viewRank.reset(data);\r\n      count += data.list && data.list.length || 0;\r\n      processCount += data.checkNum;\r\n      if(processCount<data.totalNum){\r\n        viewTips.html('在('+ processCount +'/'+data.totalNum+')搜索到'+\r\n        count+'篇关于：'+keyWord);\r\n      }else{\r\n        viewTips.html('在'+data.totalNum+'篇文章中搜索到'+\r\n        count+'篇关于：'+keyWord);\r\n      }\r\n\r\n      //console.log(data);\r\n    });\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pull_article.js"],"sourceRoot":""}