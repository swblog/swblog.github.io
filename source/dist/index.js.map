{"version":3,"sources":["webpack:///webpack/bootstrap 86d1da82182eaf8af1b9","webpack:///./source/src/index.js","webpack:///./source/src/helper/common_event.js","webpack:///./source/src/common/util/index.js","webpack:///./source/src/common/util/event.js","webpack:///./source/src/model/article.js","webpack:///./source/src/helper/search.js","webpack:///./source/src/helper/sw_post_message.js","webpack:///./source/src/model/config.js","webpack:///./source/src/card/common/navigator.js","webpack:///./source/src/page/list.js","webpack:///./source/src/card/common/footer.js","webpack:///./source/src/card/common/main_container.js","webpack:///./source/src/helper/init_option.js","webpack:///./source/src/card/blog/pannel_list.js","webpack:///./source/src/model/read_history.js","webpack:///./source/src/card/blog/pannel.js","webpack:///./source/src/card/blog/article_list.js","webpack:///./source/src/page/book.js","webpack:///./source/src/card/common/slidebar_container.js","webpack:///./source/src/page/content.js","webpack:///./source/src/card/blog/content.js","webpack:///./source/src/page/blog.js","webpack:///./source/src/page/search.js","webpack:///./source/src/card/blog/pull_article.js"],"names":["require","m_article","m_config","c_header","c_pageList","c_pageBook","c_pageContent","c_pageBlog","c_pageSearch","viewHeader","$","append","getConfig","then","initArticle","BCD","app","setTitle","str","reset","document","title","initPage","key","next","page","path","decodeURIComponent","hasCatalog","hasArticle","replaceHash","getIndex","m_util","go","ele","option","data","on","e","stopBubble","addEvent","back","history","module","exports","m_event","getTime","date","Date","now","diff","Math","round","getDate","getFullYear","time","formatDate","leftFillString","num","length","substr","getRandomName","random","toString","replace","stopBubbleEx","stopPropagation","preventDefault","m_search","swPostMessage","catalogList","articleList","originList","tagList","articleDict","catalogDict","name","result","item","list","idx","summary","content","attr","setTimeout","editormd","markdownToHTML","markdown","htmlDecode","tocm","emoji","taskList","tex","flowChart","sequenceDiagram","indexOf","location","hash","baseHash","html","$0","$1","getName","arr","match","getURL","o","mtime","getPath","pathWithSearch","getSortContent","len","minLen","ret","substring","partCount","partIndex","getContent","reg","split","filter","count","some","i","lastIndexOf","con","preload","obj","console","log","init","tagSet","Set","processArticle","child","tags","slice","forEach","add","href","encodeURIComponent","catalog","push","extend","sort","a","b","processCount","Promise","resolve","ajaxCache","existDict","origin","m","dict","map","getTagArticles","tag","fetchContent","ajaxList","ajax","url","success","Object","assign","when","apply","getList","method","parseInt","start","totalList","getCatalogArticles","every","testItem","testType","searchWeight","test","weight","pointList","point","search","searchList","word","callback","getGlobalRegex","fitList","remainList","searchCallback","totalNum","checkNum","searchWord","batchProcess","subList","splice","testObj","searchDirect","getCatalogs","getTags","getArticleList","getLastPost","getListByCatalog","getListByTag","getArticleContent","createNGram","n","end","gramDict","getWordList","wordList","processStrict","processChiese","processEnglish","RegExp","join","index","postMessage","callbackDict","navigator","serviceWorker","addEventListener","event","cbid","resp","req","controller","state","host","isLocalhost","username","config","searchIssueURL","newIssueURL","update","author","logoTitle","window","CONFIG","nav","getConfigSync","getNewIssueURL","getSearchIssueURL","viewInput","find","viewDrop","setView","template","viewGroup","getWord","val","trim","doSearch","getHash","selectLi","oldWord","hide","lis","keyCode","trigger","css","eq","getData","c_footer","c_mainContainer","m_initOption","c_pannelList","c_articleList","viewBody","viewList","viewPannelList","delay","addView","viewFoot","currentHash","hasRender","getCode","notRender","empty","hrefHead","anchorBack","scrollY","scrollTo","extendState","getPage","show","m_readHistory","c_pannel","view","viewPannelRecommendPost","getRecommend","viewPannelCatalog","viewPannelTag","isInline","storageKey","readHistory","JSON","parse","localStorage","getItem","addHistory","setItem","stringify","currentPath","s_mainContainer","viewContent","viewSlidebar","slidebar","chapters","bindEvent","fileName","c_content","innerHeight","m_pullArticle","container","noRender","viewRank","viewTips","full","keyWord"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 86d1da82182eaf8af1b9","/**\n * @file index 入口文件，路由定义\n * @author ljquan@qq.com\n */\n\nrequire('helper/common_event.js');\nconst m_article = require('model/article');\nconst m_config = require('model/config');\nconst c_header = require('card/common/navigator');\nconst c_pageList = require('page/list.js');\nconst c_pageBook = require('page/book.js');\nconst c_pageContent = require('page/content.js');\nconst c_pageBlog = require('page/blog.js');\nconst c_pageSearch = require('page/search.js');\nlet viewHeader = c_header();\n$('body').append(viewHeader);\n\nm_config.getConfig.then(() =>\n  m_article.initArticle.then(() =>\n    BCD.app({ //入口\n      setTitle: function (str) {\n        viewHeader.reset();\n        document.title = str;\n      },\n      initPage: function (key, next) {\n        var page = this;\n        if (key == 'index') {\n          c_pageList(page, key);\n          next();\n        } else if (key == 'tag') {\n          c_pageList(page, key);\n          next();\n        } else if (key == 'blog') {\n          c_pageBlog(page);\n          next();\n        } else if (key == 'search') {\n          c_pageSearch(page, key);\n          next();\n        } else {\n          let path = decodeURIComponent(key);\n          if (m_article.hasCatalog(path)) {\n            if(m_article.hasArticle(path + '/$sidebar$.md')){\n              c_pageBook(page, path);\n            }else{\n              c_pageList(page, path);\n            }\n            return next();\n          } else if (m_article.hasArticle(path)) {\n            c_pageContent(page, path);\n            return next();\n          }\n\n          BCD.replaceHash(m_config.getIndex());\n          next(-1);\n        }\n      }\n    })\n  )\n);\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/index.js","const m_util = require('common/util')\n//data-on=\"?m=go\" data-url=\"<%=o.href%>\"\nconst go = (ele, option, data)=>{\n  ele.on('click', function(e){\n    BCD.go(ele.data('url'));\n    m_util.stopBubble(e);\n  })\n};\nBCD.addEvent('go', go);\n//data-on=\"?m=back\"\nconst back = (ele, option, data)=>{\n  ele.on('click', function(e){\n    history.back();\n    m_util.stopBubble(e);\n  })\n};\nBCD.addEvent('back', back);\n\nconst replaceHash = (ele, option, data)=>{\n  ele.on('click', function(e){\n    BCD.replaceHash(ele.data('url'));\n    m_util.stopBubble(e);\n  })\n};\nBCD.addEvent('replaceHash', replaceHash);\n//事件绑定\nmodule.exports = {\n  go,\n  back,\n  replaceHash\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/common_event.js","const m_event = require('./event');\nconst getTime = function(date) {\n  date = new Date(date);\n  var now = new Date();\n  var diff = now - date;\n  switch (true) {\n    case diff < 6E4:\n      return '刚刚';\n    case diff < 36E5:\n      return Math.round(diff / 6E4) + '分钟前';\n    case diff < 864E5:\n      return Math.round(diff / 36E5) + '小时前';\n    case diff < 1728E5 && now.getDate() - date.getDate() != 2:\n      return '昨天';\n    case date.getFullYear() === new Date().getFullYear():\n      return BCD.time.formatDate(date, \"%M月%d日\");\n    default:\n      return BCD.time.formatDate(date, \"%y年%M月%d日\");\n  }\n};\n\nconst leftFillString = function(num, length) {\n  return (\"0000000000\" + num).substr(-length);\n};\nconst getRandomName = function() {\n  return (\"aaaaaaaaaa\" + Math.random().toString(36).replace(/[.\\d]/g, '')).substr(-10)\n};\nmodule.exports = {\n  getTime,\n  leftFillString,\n  getRandomName,\n  stopBubble: m_event.stopBubble,\n  stopBubbleEx: m_event.stopBubbleEx\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/common/util/index.js","/**\n * @module {Object} event  事件相关的处理函数\n * @return {object} 方法集合\n * @property {function} stopBubble 停止冒泡并禁止默认事件\n * @property {function} stopBubbleEx 停止冒泡\n * @author ljquan@qq.com\n */\n\nmodule.exports = {\n    /**\n     * 停止冒泡并禁止默认事件\n     * @param  {event} e 事件\n     * @return {null}\n     */\n    stopBubble: function(e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n        }\n        e.preventDefault();\n    },\n    /**\n     * 停止冒泡\n     * @param  {event} e 事件\n     * @return {null}\n     */\n    stopBubbleEx: function(e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/common/util/event.js","const m_util = require('common/util/index');\nconst m_search = require('helper/search');\nconst swPostMessage = require('helper/sw_post_message.js');\nlet catalogList = []; //目录列表\nlet articleList = []; //文件列表\nlet originList = []; //原始文件结构列表\nlet tagList = [];\nlet articleDict = {};\nlet catalogDict = {};\n\nBCD.addEvent('mkview', function(ele, option, data) {\n  let name = m_util.getRandomName();\n  let result;\n  if ('idx' in option) {\n    let item = data.list[option.idx];\n    result = item.summary;\n    if(result.length < item.content.length) {\n      result += '...';\n    }\n  } else {\n    result = data.content;\n  }\n\n  ele.attr('id', name);\n  setTimeout(function() { //dom元素展示出来之后再绑定，不然流程图等会有样式问题\n    editormd.markdownToHTML(name, {\n      markdown: result, //+ \"\\r\\n\" + $(\"#append-test\").text(),\n      // htmlDecode: true, // 开启 HTML 标签解析，为了安全性，默认不开启\n      htmlDecode: \"style,script,iframe\", // you can filter tags decode\n      //toc             : false,\n      tocm: true, // Using [TOCM]\n      //tocContainer    : \"#custom-toc-container\", // 自定义 ToC 容器层\n      //gfm             : false,\n      //tocDropdown     : true,\n      // markdownSourceCode : true, // 是否保留 Markdown 源码，即是否删除保存源码的 Textarea 标签\n      emoji: true,\n      taskList: true,\n      tex: true, // 默认不解析\n      flowChart: true, // 默认不解析\n      sequenceDiagram: true // 默认不解析\n    });\n    if (result.indexOf('[TOC]') > -1 && location.hash.indexOf('.md') > 0) { //兼容TOC目录\n      let baseHash = location.hash.replace(/\\.md\\/.*/, '.md');\n      $('#' + name).html($('#' + name).html()\n        .replace(/href=\"#([^\"]*)/g, function($0, $1) {\n          if ($1) {\n            return 'href=\"' + baseHash + '/' + $1;\n          }\n          return $0\n        }).replace(/name=\"([^\"]*)/g, function($0, $1) {\n          if ($1) {\n            return 'name=\"' + baseHash.substr(1) + '/' + $1;\n          }\n          return $0\n        }));\n    }\n  }, 0);\n});\n\nconst getName = (path) => {\n  let arr = path.match(/([^/.]+)[.\\w]+$/);\n  return arr ? arr[1] : '';\n}\n\nconst getURL = (o) => o.path + '?mtime=' + o.mtime;\n\nconst getPath = (pathWithSearch) => pathWithSearch.replace(/\\?[^?]+/, '');\n\n\nconst getSortContent = (content, len=500) => {\n  let minLen = len/2;\n  let ret = content.substring(0, len);\n  let partCount = 0;\n  let partIndex = 0;\n  ret.replace(/\\n|<br>|<\\/p>/g,function($0, idx){\n    partCount++;\n    if(partCount==15){\n      partIndex = idx;\n    }\n  });\n  if(partIndex>0){\n    ret = ret.substring(0, partIndex);\n    if (ret.length < len*0.7){\n      return ret;\n    }\n  }\n  let getContent = (str, reg) => {\n    let arr = str.split(reg).filter(o => !!o);\n    let count = 0;\n    if (arr && arr.length > 2) {\n      let idx = arr.length - 1;\n      if(arr.some((o, i) => {\n        count += o.length;\n        if (count > minLen && i > 1) {\n          idx = i;\n          return true;\n        }\n      })){\n        return str.substr(0, str.lastIndexOf(arr[idx])).replace(/[#\\s]+$/, '');\n      }\n      return str;\n    }\n  }\n  let con = getContent(ret, /\\s*#+\\s*/);\n  if (con) {\n    return con;\n  }\n  con = getContent(ret, /\\s+/);\n  if (con) {\n    return con;\n  }\n  return ret;\n}\n\nconst preload = (obj) => {\n  for (var pathWithSearch in obj) {\n    var path = getPath(pathWithSearch);\n    if (articleDict[path]) {\n      articleDict[path].content = obj[pathWithSearch];\n      articleDict[path].summary = getSortContent(obj[pathWithSearch]);\n    }\n  }\n  console.log('articleDict', articleDict);\n};\n\nconst init = (list) => {\n  originList = list;\n  catalogList = []; //目录列表\n  articleList = []; //文件列表\n  let tagSet = new Set();\n  let processArticle = (o) => {\n    let {\n      path = '', mtime\n    } = o;\n    if (o.child) {\n      let tags = path.split('/').slice(1);\n      tags.forEach(o => tagSet.add(o));\n      let item = {\n        path,\n        href: '#!/' + encodeURIComponent(o.path),\n        catalog: path.slice(path.lastIndexOf('/') + 1),\n        tagList: tags\n      };\n      catalogDict[path] = item;\n      catalogList.push(item);\n      o.child.forEach(processArticle);\n    } else {\n      let tags = path.split('/').slice(1, -1);\n      tags.forEach(o => tagSet.add(o));\n      let item = {\n        path,\n        mtime,\n        href: '#!/' + encodeURIComponent(o.path),\n        title: getName(path),\n        time: m_util.getTime(mtime),\n        tagList: tags\n      };\n      if(articleDict[path]){\n        $.extend(articleDict[path], item);\n      }else{\n        articleDict[path] = item;\n      }\n      articleList.push(item);\n    }\n  };\n  list.forEach(processArticle);\n  articleList = articleList.sort((a, b) => {\n    return b.mtime - a.mtime;\n  });\n  tagList = [...tagSet];\n};\n\nlet processCount = 0;\n//先用缓存，请求回来再更新\nconst initArticle = new Promise((resolve)=>{\n  BCD.ajaxCache('./json/article.json', (data) => {\n    init(data);\n    processCount++;\n    if(processCount===2){\n      let existDict = {};\n      articleList.forEach(o=>{\n        existDict[location.origin + '/' + o.path] = 1;\n      })\n      swPostMessage({\n        m: 'delete_not_exist_article',\n        dict: existDict\n      });\n      swPostMessage({\n        m: 'preload',\n        list: articleList.map(getURL)\n      }, preload);\n    }\n    resolve();\n    return 1; //缓存数据到localStorage\n  }, 0, 1E3, true);\n});\n\n//获取包含相关tag文章列表\nconst getTagArticles = (tag) => {\n  if (tag) {\n    return articleList.filter(o => o.tagList &&\n      o.tagList.indexOf(tag) > -1);\n  }\n  return articleList;\n};\n\nconst fetchContent = (list) => {\n  let ajaxList = list.filter(o => articleDict[o.path] && !articleDict[o.path].content).map(o => $.ajax({\n    url: getURL(o),\n    success(str) {\n      let item = Object.assign({}, o);\n      item.content = str;\n      item.summary = getSortContent(str);\n      articleDict[o.path] = item;\n    }\n  }));\n  return new Promise(function(resolve) {\n    $.when.apply(this, ajaxList).then(resolve, resolve);\n  });\n};\n\n\nconst getList = (method) => (tag, page = 0, count = 10) => {\n  page = parseInt(page || 0);\n  let start = page * count;\n  let totalList = method(tag);\n  let list = totalList.slice(start, start + count);\n  return fetchContent(list).then(() => {\n    return {\n      tag,\n      page,\n      count,\n      num: totalList.length,\n      list: list.map(o => articleDict[o.path]).filter(o => !!(o&&o.content))\n    };\n  });\n};\n\nconst getCatalogArticles = (path) => {\n  let catalog = catalogDict[path];\n  let tagList = catalog.tagList;\n  if (catalog) {\n    return articleList.filter(o => o.tagList.length &&\n      tagList.every((tag, i) => tag == o.tagList[i]));\n  }\n  return [];\n};\n\nconst testItem = (reg, item) => {\n  let testType = 0;\n  let obj = {};\n  let searchWeight = 0;\n  if (reg.test(item.title)) {\n    obj.title = item.title.replace(reg, function($0) {\n      let weight = /\\w/.test($0) ? 2 : $0.length;\n      searchWeight += weight * 3;\n      return '<span class=\"text-danger\">' + $0 + '</span>';\n    });\n    testType += 1;\n  }\n  if (item.content && reg.test(item.content)) {\n    let pointList = [];\n    obj.content = item.content.replace(reg, function($0, point) {\n      let weight = /\\w/.test($0) ? 2 : $0.length;\n      searchWeight += weight;\n      pointList.push({\n        point,\n        weight\n      });\n      return '<span class=\"text-danger\">' + $0 + '</span>';\n    });\n    pointList = pointList.sort((a, b) =>b.weight - a.weight);\n    let start = pointList[0].point - 20;\n    let summary = item.content.substr(start < 0 ? 0 : start);\n    start = summary.search(/[。\\s]/);\n    if (start < 20) {\n      summary = getSortContent(summary.substr(start).replace(/^[。\\s]*/, ''), 100);\n    } else {\n      summary = getSortContent(summary.substr(10).replace(/^[。\\s]*/, ''), 100);\n    }\n    obj.summary = summary.replace(reg, function($0) {\n      return '<span class=\"text-danger\">' + $0 + '</span>';\n    });\n    testType += 2;\n  }\n  obj.testType = testType;\n  obj.searchWeight = searchWeight;\n  return Object.assign({}, item, obj);\n};\n\n\nconst searchList = (word, callback) => {\n  let reg = m_search.getGlobalRegex(word);\n  let fitList = [];\n  let remainList = [];\n  let ajaxList = [];\n\n  const searchCallback = (list) => callback({\n    totalNum: articleList.length,\n    checkNum: list.length,\n    searchWord: word,\n    list: list.filter(o => o.testType > 0).sort((a,b)=>b.searchWeight-a.searchWeight)\n  });\n  const batchProcess = (list, next) => {\n    let subList = list.splice(0, 10);\n    fetchContent(subList).then(() => {\n      searchCallback(subList.map(o => testItem(reg, articleDict[o.path])));\n      if (list.length) {\n        batchProcess(list, next);\n      } else if (next) {\n        next();\n      }\n    })\n  };\n  articleList.forEach(o => {\n    let item = articleDict[o.path];\n    if (item) {\n      let testObj = testItem(reg, item);\n      if (item.content) {\n        fitList.push(testObj);\n      } else if (testObj.testType > 0) {\n        ajaxList.push(item);\n      } else {\n        remainList.push(o);\n      }\n    }\n  });\n\n  searchCallback(fitList);\n  batchProcess(ajaxList, function() {\n    batchProcess(remainList);\n  })\n  return remainList;\n};\n\n\n\n//搜索直达\nconst searchDirect = (word) => {\n  let reg = m_search.getGlobalRegex(word);\n  return articleList.filter(o => reg.test(o.title)).map(o => {\n    return {\n      href: o.href,\n      title: o.title.replace(reg, function($0) {\n        return '<span class=\"text-danger\">' + $0 + '</span>';\n      })\n    };\n  })\n};\n\n\nmodule.exports = {\n  getName,\n  initArticle,\n  catalogDict,\n  articleDict,\n  hasCatalog: (path) => !!catalogDict[path],\n  hasArticle: (path) => !!articleDict[path],\n  getCatalogs: () => catalogList,\n  getTagArticles,\n  getTags: () => tagList,\n  getArticleList: () => articleList,\n  getLastPost: () => articleList.slice(0, 5),\n  getListByCatalog: getList(getCatalogArticles),\n  getListByTag: getList(getTagArticles),\n  getArticleContent: (path) => fetchContent([articleDict[path]])\n    .then(() => articleDict[path]),\n  searchDirect,\n  searchList\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/article.js","const createNGram = (n) => (str) => {\n  let arr = [];\n  let end = str.length - n + 1;\n  for (var i = 0; i < end; i++) {\n    arr.push(str.substr(i, n));\n  }\n  return arr;\n}\n\nconst gramDict = {\n  4: createNGram(4),\n  3: createNGram(3),\n  2: createNGram(2)\n};\n\nconst getWordList = (str) => {\n  let wordList = [str];\n  let processStrict = (str) => str.replace(/['‘’][^'‘’]*['‘’]|[\"”“][^\"”“]*[\"”“]/g, function($0) {\n    wordList.push($0.replace(/['‘’\"”“]/g, ''));\n    return ' ';\n  });\n\n\n  let processChiese = (str) => str.replace(/[\\u4e00-\\u9fff\\uf900-\\ufaff]+/g, function($0) {\n    wordList.push($0);\n    for(var i = 4; i >1 ; i--){\n      if($0.length > i){\n        wordList.push.apply(wordList, gramDict[i]($0));\n      }\n    }\n    return ' ';\n  });\n\n  let processEnglish = (str) => {\n    wordList.push.apply(wordList, str.split(/\\s+/).filter(o=>!!o));\n  };\n\n  processEnglish(processChiese(processStrict(str)));\n  return wordList;\n};\n\nmodule.exports = {\n  getWordList,\n  getGlobalRegex: (str) => new RegExp(getWordList(str).join('|'), 'ig')\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/search.js","const m_util = require('common/util');\n\nlet index = 0;\nlet postMessage = function(){};\nlet callbackDict = {};\n\nif (navigator.serviceWorker) {\n  navigator.serviceWorker.addEventListener('message', function(event) {\n    let {cbid, resp} = event.data;\n    if(cbid && callbackDict[cbid]){\n      callbackDict[cbid](resp);\n      delete callbackDict[cbid];\n    }\n  }); //页面通过监听service worker的message事件接收service worker的信息\n  postMessage = function(req, callback){\n    if(navigator.serviceWorker.controller && navigator.serviceWorker.controller.state=='activated'){\n      index++;\n      let obj = {req};\n      if(callback){\n        obj.cbid = m_util.getRandomName() + index;\n        callbackDict[obj.cbid] = callback;\n      }\n      navigator.serviceWorker.controller.postMessage(obj);  //页面向service worker发送信息\n    }\n  }\n}\n\n\nmodule.exports = postMessage;//postMessage(message, callback)\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/sw_post_message.js","let arr = location.host.split(\".\");\nlet isLocalhost = arr.length === 1;\nlet username = isLocalhost ? \"swblog\" : arr[0];\nlet config = {\n  \"author\": username,\n  \"nav\": [\n    [\"Home\", \"#!/index\"],\n    [\"About\", \"#!/blog/about.md\"]\n  ]\n};\nlet searchIssueURL;\nlet newIssueURL;\n\nconst update = ()=>{\n  let author = config.author;\n  config.logoTitle = config.logoTitle || author+\"的博客\";\n  searchIssueURL = 'https://github.com/'+author+'/'+author+'.github.io/issues?utf8=%E2%9C%93&q=';\n  newIssueURL = 'https://github.com/' +author+'/'+author+'.github.io/issues/new?title=';\n  if(window.CONFIG){\n    CONFIG.username = username = config.author;\n  }\n};\nupdate();\n\n//先用缓存，请求回来再更新\nconst getConfig = new Promise((resolve)=>{\n  BCD.ajaxCache('./json/config.json', (data) => {\n    config = data || config;\n    if(config.author){\n      update();\n      resolve();\n      return 1; //缓存数据到localStorage\n    }\n    resolve();\n  }, 0, 1E3, true);\n});\n\n\n\n\nwindow.CONFIG = module.exports = {\n  username,\n  getIndex: ()=> config.nav && config.nav[0] && config.nav[0][1] || \"\",\n  isLocalhost,\n  getConfigSync: () => config,\n  getConfig,\n  getNewIssueURL: (title)=> newIssueURL + decodeURIComponent(isLocalhost ? \"localhost测试评论\" : title),\n  getSearchIssueURL: (title)=> newIssueURL + decodeURIComponent(isLocalhost ? \"localhost测试评论\" : title)\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/config.js","const m_util = require('common/util');\nconst m_article = require('model/article');\nconst m_config = require('model/config');\n\n\nBCD.addEvent('navigator_search', function(ele){\n  ele.html('<div class=\"form-group open\">'+\n  '  <input type=\"text\" class=\"form-control\" placeholder=\"Search\">'+\n  '  <ul class=\"dropdown-menu\" style=\"right:auto;display:none\"></ul>'+\n  '</div>'+\n  '<button type=\"submit\" class=\"btn btn-primary\">Submit</button>');\n  let viewInput = ele.find('input');\n  let viewDrop = ele.find('ul').setView({\n    template:'<%(obj||[]).forEach(function(o){%>'+\n    '<li><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a></li>'+\n    '<%})%>'\n  });\n  let viewGroup = ele.find('.form-group');\n\n  const getWord = ()=> viewInput.val().trim();\n  const doSearch = ()=>{\n    let hash = '#!/search/'+encodeURIComponent(getWord());\n    if(BCD.getHash(0)=='search'){\n      BCD.replaceHash(hash);\n    }else{\n      BCD.go(hash);\n    }\n  };\n  ele.find('button').on('click', function(e){\n    m_util.stopBubble(e);\n    if(word){\n      doSearch();\n    }\n  });\n  let selectLi = null;\n  let index = -1;\n  let oldWord = '';\n  viewInput.on('blur', function(){\n    viewDrop.hide();\n  });\n  ele.on('keypress input keyup', function(e){\n    let word = getWord();\n    if(word){\n      let lis = viewDrop.find('a');\n      if(e.keyCode==13){\n        if(selectLi){\n          selectLi.trigger('click');\n        }else{\n          doSearch();\n        }\n      }\n      if(e.keyCode==40){\n        index++;\n        if(index >= lis.length){\n          index = 0;\n        }\n      }\n      if(e.keyCode==38){\n        index--;\n        if(index <= -lis.length){\n          index = 0;\n        }\n      }\n\n      if(word==oldWord){\n        if(e.keyCode==40 || e.keyCode==38){\n          lis.css('background-color','');\n          selectLi = lis.eq(index);\n          selectLi.css('background-color','aliceblue');\n        }\n\n        return;\n      }\n      oldWord = word;\n      let list = m_article.searchDirect(word);\n      if(list.length){\n        index = -1;\n        selectLi = null;\n        return viewDrop.reset(list);\n      }\n    }\n    viewDrop.hide();\n  });\n})\n\n\n //顶部导航\nmodule.exports = function(option) {\n  let viewHeader = $('<header class=\"navbar navbar-inverse navbar-fixed-top bs-docs-nav\" role=\"banner\"></header>');\n  option = $.extend({\n    name: 'common/header',\n    getData: function() {\n      return m_config.getConfigSync()\n    },\n    template: '  <div class=\"container\">' +\n      '    <div class=\"navbar-header\">' +\n      '      <button class=\"navbar-toggle\" type=\"button\" data-toggle=\"collapse\" data-target=\".bs-navbar-collapse\">' +\n      '        <span class=\"sr-only\">Toggle navigation</span>' +\n      '        <span class=\"icon-bar\"></span>' +\n      '        <span class=\"icon-bar\"></span>' +\n      '        <span class=\"icon-bar\"></span>' +\n      '      </button>' +\n      '      <a data-on=\"?m=go\" data-url=\"<%=CONFIG.getIndex()%>\" class=\"logo-link\" style=\"padding: 12px;\"><%-obj.logoTitle%></a>' +\n      '    </div>' +\n      '    <nav class=\"collapse navbar-collapse bs-navbar-collapse\" role=\"navigation\">' +\n      '      <div class=\"navbar-form navbar-right\" data-on=\"?m=navigator_search\"></div>'+\n      '      <ul class=\"nav navbar-nav\"><%(obj.nav || []).forEach(function(o){%>' +\n      '        <li class=\"<%=location.hash==o[1] ? \"active\" : \"\"%>\"><a data-on=\"?m=replaceHash\" data-url=\"<%=o[1]%>\"><%-o[0]%></a></li>' +\n      '        <%})%>' +\n      '      </ul>' +\n      '    </nav>' +\n      '  </div>'\n  }, option);\n  return viewHeader.setView(option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/navigator.js","const c_footer = require('card/common/footer');\nconst c_mainContainer = require('card/common/main_container');\nconst m_article = require('model/article');\nconst m_initOption = require('helper/init_option');\nconst c_pannelList = require('card/blog/pannel_list');\nconst c_articleList = require('card/blog/article_list');\n\n\n\nmodule.exports = function(page, key) {\n  let viewBody = c_mainContainer();\n  let viewList = viewBody.find('[data-selector=\"main\"]');\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\n  viewList.setView(c_articleList({\n    delay: true\n  }));\n  viewBody.addView(viewList);\n  viewBody.addView(viewPannelList);\n\n  let viewFoot = c_footer();\n  let currentHash;\n  page.setView({\n    start: function(hasRender){\n      if(hasRender && currentHash==location.hash && BCD.history.getCode()==-1){\n        return m_initOption.notRender(hasRender);\n      }\n      currentHash=location.hash;\n      viewList.empty();\n      if(key=='index'){\n        m_article.getListByTag(0, BCD.getHash(1)).then((data)=>{\n          data.title = \"最新文章\";\n          data.hrefHead = '#!/index';\n          viewList.reset(data);\n        });\n      }else if(key=='tag'){\n        let tag = BCD.getHash(1);\n          m_article.getListByTag(tag, BCD.getHash(2)).then((data)=>{\n            data.title = '\"'+tag+'\" 的最新文章';\n            data.hrefHead = '#!/tag/'+tag;\n            viewList.reset(data);\n          });\n      }else if(m_article.hasCatalog(key)){\n        m_article.getListByCatalog(key, BCD.getHash(1)).then((data)=>{\n          data.title = '\"'+data.tag.replace(/^[^/]+\\//, '')+'\" 的最新文章';\n          data.hrefHead = '#!/'+BCD.getHash(0);\n          viewList.reset(data);\n        });\n      }\n    },\n    title: '文章列表',\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/list.js"," //页脚\nconst m_config = require('model/config');\nmodule.exports = function(option) {\n  let viewHeader = $('<footer></footer>');\n  option = $.extend({\n    name: 'common/footer',\n    getData: function() {\n      return m_config.getConfigSync()\n    },\n    template:\n        '<div class=\"container\">'+\n        '  <hr>'+\n        '  <p class=\"text-center\">Copyright <%-obj.author%> © <%=new Date().getFullYear()%>. All rights reserved.</p>'+\n        '</div>'\n  }, option);\n  return viewHeader.setView(option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/footer.js","module.exports = ()=> $('<div class=\"container\">' +\n  '  <div class=\"row\">' +\n  '    <div class=\"col-sm-7 col-md-8 col-lg-9\" data-selector=\"main\"></div>' +\n  '    <div class=\"col-sm-5 col-md-4 col-lg-3\" data-selector=\"panel\"></div>' +\n  '  </div>' +\n  '</div>');\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/main_container.js","function anchorBack() {\n    if (history.state && history.state.scrollY) { //支持锚点返回\n        if (BCD.history.getCode() == -1) {\n            scrollTo(0, history.state.scrollY);\n        }\n        BCD.extendState({ //保证刷新可回到头部\n            scrollY: 0\n        });\n    }\n}\n\n//带锚点返回，不reset子view\nfunction notRender(hasRender) {\n    if (hasRender) {\n        BCD.getPage().show();\n        anchorBack();\n        return 'show';\n    }\n}\nmodule.exports = {\n    notRender,\n    anchorBack\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/init_option.js","const m_article = require('model/article');\nconst m_readHistory = require('model/read_history');\nconst c_pannel = require('card/blog/pannel');\nmodule.exports = (view) => {\n  let viewPannelRecommendPost = c_pannel({\n    data: {\n      title: '推荐阅读',\n      list: m_readHistory.getRecommend().map(o => {\n        return {\n          href: o.href,\n          title: o.title,\n          time: o.time\n        }\n      })\n    }\n  });\n  let viewPannelCatalog = c_pannel({\n    data: {\n      title: '分类',\n      list: m_article.getCatalogs().filter(o => o.tagList.length === 1).map(o => {\n        return {\n          title: o.catalog,\n          href: o.href\n        }\n      })\n    }\n  });\n  let viewPannelTag = c_pannel({\n    data: {\n      isInline: true,\n      title: '标签',\n      list: m_article.getTags()\n    }\n  });\n\n  return view.setView({\n    viewList: [viewPannelCatalog, viewPannelTag, viewPannelRecommendPost]\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pannel_list.js","const m_config = require('model/config');\nconst m_article = require('model/article');\nlet storageKey = 'read_history';\nlet readHistory = {};\nconst init = ()=> {\n  try{\n    readHistory = $.extend({}, JSON.parse(localStorage.getItem(storageKey)), readHistory);\n  }catch(e){}\n};\n\nm_config.getConfig.then(()=>{\n  storageKey = 'read_history_' + m_config.username;\n  init();\n})\n\nconst addHistory = (path)=>{\n  readHistory[path] = Date.now();\n  localStorage.setItem(storageKey, JSON.stringify(readHistory));\n};\n\nconst getRecommend = ()=>{\n  let list = [];\n  let currentPath = decodeURIComponent(location.hash.replace('#!/', ''));\n  let articleList = m_article.getArticleList();\n  articleList.some(function(o){\n    if(!readHistory[o.path] && o.path!=currentPath){\n      list.push(o);\n      if(list.length > 10){\n        return true;\n      }\n    }\n  });\n  return list;\n};\nmodule.exports = {\n  addHistory,\n  getRecommend\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/read_history.js"," //顶部导航\nmodule.exports = function(option) {\n  let view = $('<div class=\"panel panel-primary\"></div>');\n  option = $.extend({\n    name: 'blog/panel',\n    template:\n      '<div class=\"panel-heading\">' +\n      '  <h4><%-obj.title%></h4>' +\n      '</div>' +\n      '<div class=\"panel-body\">' +\n      '  <%if(obj.isInline){%>' +\n      '    <ul class=\"list-inline\">'+\n      '     <%(obj.list || []).forEach(function(o){%>' +\n      '      <li><a data-on=\"?m=go\" data-url=\"#!/tag/<%=o%>\"><%=o%></a></li>' +\n      '     <%})%>'+\n      '    </ul>' +\n      '  <%}else{%>' +\n      '    <ul class=\"list-group\">' +\n      '     <%(obj.list || []).forEach(function(o){%>' +\n      '      <li class=\"list-group-item\"><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a>'+\n      '       <%=o.time ? \"<span style=\\\\\\\"color: #a2a34f;\\\\\\\">(\"+o.time+\")</span>\" : \"\"%></li>' +\n      '     <%})%>'+\n      '    </ul>' +\n      '    <%}%>' +\n      '</div>'\n  }, option);\n  return view.setView(option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pannel.js"," //文章列表\nmodule.exports = function(option) {\n  return $.extend({\n    name: 'blog/article_list',\n    template: '<h1><%=obj.title%></h1>' +\n      '<%if(!(obj.list && obj.list.length)){%>'+\n      '<br><hr><center><h3>暂无内容</h3></center>'+\n      '<%}else{(obj.list || []).forEach(function(o, idx){%><article>' +\n      '  <h2><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%-o.title%></a></h2>' +\n      '  <div class=\"row\">' +\n      '    <div class=\"group1 col-sm-6 col-md-6\">' +\n      '      <span class=\"glyphicon glyphicon-folder-open\"></span><%(o.tagList||[]).forEach(function(item, i, arr){%>'+\n      '       <%=i ? \"&nbsp;>&nbsp;\" : \"&nbsp;\"%><a data-on=\"?m=go\" '+\n      '       data-url=\"#!/<%=encodeURIComponent([\"blog\"].concat(arr.slice(0, i+1)).join(\"/\"))%>\"><%=item%></a><%})%>' +\n      '    </div>' +\n      '    <div class=\"group2 col-sm-6 col-md-6\">' +\n      '      &nbsp;&nbsp;<span class=\"glyphicon glyphicon-time\"></span><%-o.time%>' +\n      '    </div>' +\n      '  </div>' +\n      '  <hr>' +\n      '  <div data-on=\"?m=mkview&idx=<%=idx%>\">'+\n      '  </div><br />' +\n      '' +\n      '  <p class=\"text-right\">' +\n      '    <a data-on=\"?m=go\" data-url=\"<%=o.href%>\">' +\n      '      continue reading...' +\n      '    </a>' +\n      '  </p>' +\n      '  <hr>' +\n      '</article><%})%>' +\n      '' +\n      '<ul class=\"pager\">' +\n      '  <li class=\"previous\"><a <%if(obj.page==0){%>style=\"opacity: 0.5;\"<%}else{%>'+\n      'data-on=\"?m=go\" data-url=\"<%=obj.hrefHead+\"/\"+(obj.page-1)%>\"<%}%>>&larr; Previous</a></li>' +\n      '  <li class=\"next\"><a <%if(obj.page==Math.floor(obj.num/obj.count)){%>style=\"opacity: 0.5;\"<%}else{%>'+\n      'data-on=\"?m=go\" data-url=\"<%=obj.hrefHead+\"/\"+(obj.page+1)%>\"<%}%>>Next &rarr;</a></li>' +\n      '</ul><%}%>'\n  }, option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/article_list.js","const s_mainContainer = require('card/common/slidebar_container');\nconst m_article = require('model/article');\nconst c_articleList = require('card/blog/article_list');\n\n\n\nmodule.exports = function(page, key) {\n  page.html(s_mainContainer);\n  let viewContent = page.find('[data-selector=\"main\"]');\n  let viewSlidebar = page.find('[data-selector=\"slidebar\"]');\n  let slidebar;\n  let currentHash;\n  viewSlidebar.setView({\n    name: 'blog/slidebar',\n    template: '<div data-on=\"?m=mkview\"></div>'\n  });\n\n  viewContent.setView({\n    name: 'blog/blog',\n    template: '<div data-on=\"?m=mkview\"></div>'\n  });\n\n\n  page.setView({\n    title: m_article.getName(key),\n    start: function(){\n      if(currentHash!==location.hash){\n        viewContent.empty();\n        currentHash = location.hash;\n      }\n      m_article.getArticleContent(key + '/$sidebar$.md').then((data)=>{\n        if(!slidebar){\n          slidebar = $.extend({}, data);\n          let content = slidebar.content || '';\n          let chapters = slidebar.chapters = [];\n\n          slidebar.content = content.replace(/<%(([^>]|[^%]>)+)%>/g,function($0, $1){\n            chapters.push($1);\n            return '<a data-on=\"?m=replaceHash\" data-url=\"#!/'+BCD.getHash(0)+'/'+$1+'.md\">'+$1+'</a>';\n          });\n          viewSlidebar.reset(slidebar);\n          setTimeout(function(){\n            viewSlidebar.bindEvent();\n          });\n        }\n        let fileName = BCD.getHash(1);\n        if(fileName){\n          m_article.getArticleContent(key + '/' + fileName).then((data)=>{\n            viewContent.reset(data);\n          });\n        }else{\n          return BCD.replaceHash('#!/'+BCD.getHash(0)+'/'+slidebar.chapters[0]+'.md');\n        }\n      });\n    }\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/book.js","module.exports = \n  '  <div class=\"row\">' +\n  '    <div class=\"slidebar col-sm-5 col-md-4 col-lg-3\" data-selector=\"slidebar\"></div>' +\n  '    <div class=\"col-sm-offset-5 col-md-offset-4 col-lg-offset-3 col-sm-7 col-md-8 col-lg-9\" data-selector=\"main\"></div>' +\n  '  </div>';\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/slidebar_container.js","//有侧边栏的内容展示\n\nconst c_mainContainer = require('card/common/main_container');\nconst c_footer = require('card/common/footer');\nconst m_article = require('model/article');\nconst m_readHistory = require('model/read_history');\nconst c_pannelList = require('card/blog/pannel_list');\nconst c_content = require('card/blog/content');\nconst m_initOption = require('helper/init_option');\n\n\n\nmodule.exports = function(page, key) {\n  let viewBody = c_mainContainer();\n  let viewContent = viewBody.find('[data-selector=\"main\"]');\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\n  viewContent.setView(c_content({\n    delay: true\n  }));\n  viewBody.addView(viewContent);\n  viewBody.addView(viewPannelList);\n\n  let viewFoot = c_footer();\n  page.setView({\n    start: function(hasRender){\n      if(hasRender){\n        return m_initOption.notRender(hasRender);\n      }\n      if(m_article.hasArticle(key)){\n        m_article.getArticleContent(key).then((data)=>{\n          m_readHistory.addHistory(key);\n          page.setView({title: data.title});\n          document.title = data.title;\n          viewContent.reset(data);\n        });\n      }\n    },\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/content.js","window.CONFIG = require('model/config')\n//单个文章\nmodule.exports = function (option) {\n  return $.extend({\n    name: 'blog/content',\n    template:\n      '<h1><%=obj.title%></h1>' +\n      '  <div class=\"row\">' +\n      '    <div class=\"group1 col-sm-6 col-md-6\">' +\n      '      <span class=\"glyphicon glyphicon-folder-open\"></span><%(obj.tagList||[]).forEach(function(item, i, arr){%>'+\n      '       <%=i ? \"&nbsp;>&nbsp;\" : \"&nbsp;\"%><a data-on=\"?m=go\" '+\n      '       data-url=\"#!/<%=encodeURIComponent([\"blog\"].concat(arr.slice(0, i+1)).join(\"/\"))%>\"><%=item%></a><%})%>' +\n      '    </div>' +\n      '    <div class=\"group2 col-sm-6 col-md-6\">' +\n      '      &nbsp;&nbsp;<span class=\"glyphicon glyphicon-time\"></span><%-obj.time%>' +\n      '    </div>' +\n      '  </div>' +\n      '  <hr>' +\n      '  <div data-on=\"?m=mkview\">' +\n      '  </div><br />' +\n      '  <hr>' +\n      '</article>' +\n      '<ul class=\"pager\">' +\n      '  <li class=\"previous\"><a data-on=\"?m=back\">← 返回</a></li>' +\n      ' <li><a target=\"_blank\" href=\"<%=CONFIG.getSearchIssueURL(obj.title)%>\">查看评论</a></li>' +\n      ' <li class=\"next\"><a target=\"_blank\" href=\"<%=CONFIG.getNewIssueURL(obj.title)%>\">去评论 &rarr;</a></li>' +\n      '</ul>'\n  }, option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/content.js","//针对导航的，没有侧边栏的内容展示\n\nconst c_mainContainer = require('card/common/main_container');\nconst c_footer = require('card/common/footer');\nconst m_article = require('model/article');\nconst m_initOption = require('helper/init_option');\n\n\n\nmodule.exports = function(page) {\n  let viewBody = $('<div class=\"container\" style=\"min-height:'+((window.innerHeight||640) -200)+'px\"/>').setView({\n   name: 'blog/blog',\n   delay: true,\n   template: '<div data-on=\"?m=mkview\"></div>'\n });\n\n  let viewFoot = c_footer();\n  page.setView({\n    start: function(hasRender){\n      if(hasRender && BCD.history.getCode()==-1){\n        return m_initOption.notRender(hasRender);\n      }\n      let key = location.hash.replace('#!/', '');\n      if(m_article.hasArticle(key)){\n        m_article.getArticleContent(key).then((data)=>{\n          page.setView({title: data.title});\n          document.title = data.title;\n          viewBody.reset(data);\n        });\n      }\n    },\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/blog.js","const c_footer = require('card/common/footer');\nconst c_mainContainer = require('card/common/main_container');\nconst m_initOption = require('helper/init_option');\nconst c_pannelList = require('card/blog/pannel_list');\nconst m_pullArticle = require('card/blog/pull_article');\n\nmodule.exports = function(page, key) {\n  let viewBody = c_mainContainer();\n  let viewList = viewBody.find('[data-selector=\"main\"]');\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\n  viewList.setView({\n    viewList: [m_pullArticle.container]\n  });\n\n  viewBody.addView(viewList);\n  viewBody.addView(viewPannelList);\n\n  let viewFoot = c_footer();\n  let oldWord = '';\n  page.setView({\n    start: function(hasRender){\n    let word = decodeURIComponent(BCD.getHash(1));\n      if(hasRender && oldWord==word){\n        return m_initOption.noRender(true);\n      }\n      m_pullArticle.init(word);\n    },\n    title: '搜索结果',\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/search.js","/**\n * 不断增加的列表\n */\nconst m_article = require('model/article');\nvar container = $('<div style=\"display:none;\">' +\n  '<div data-selector=\"tips\" style=\"margin: 20px;font-size: 20px;\"></div>' +\n  '<div data-selector=\"pull_list\"></div>' +\n  '</div>');\n\nvar viewRank = $(container.find('[data-selector=\"pull_list\"]'));\nvar viewTips = $(container.find('[data-selector=\"tips\"]'));\n\nviewRank.setView({\n  full: 'append',\n  template: '<%(obj.list || []).forEach(function(o, i, list){%><article>' +\n    '  <h2><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a></h2>' +\n    '  <div class=\"row\">' +\n    '    <div class=\"col-sm-6 col-md-6\">' +\n    '      &nbsp;&nbsp;<span class=\"glyphicon glyphicon-time\"></span><%-o.time%>' +\n    '    </div>' +\n    '  </div>' +\n    '  <hr>' +\n    '  <div data-on=\"?m=mkview&idx=<%=i%>\">' +\n    '  </div><br />' +\n    '  <p class=\"text-right\">' +\n    '    <a data-on=\"?m=go\" data-url=\"<%=o.href%>\">' +\n    '      continue reading...' +\n    '    </a>' +\n    '  </p>' +\n    '  <%if(i<list.length-1)print(\"<hr>\")%>' +\n    '</article><%})%>'\n});\n\n\nmodule.exports = {\n  container,\n  init: (word) => {\n    let count = 0;\n    let processCount = 0;\n    let keyWord = '<span class=\"text-danger\">'+word+'</span>'\n    viewTips.html('正在搜索：'+keyWord);\n    viewRank.empty();\n    m_article.searchList(word, function(data){\n      viewRank.reset(data);\n      count += data.list && data.list.length || 0;\n      processCount += data.checkNum;\n      if(processCount<data.totalNum){\n        viewTips.html('在('+ processCount +'/'+data.totalNum+')搜索到'+\n        count+'篇关于：'+keyWord);\n      }else{\n        viewTips.html('在'+data.totalNum+'篇文章中搜索到'+\n        count+'篇关于：'+keyWord);\n      }\n\n      //console.log(data);\n    });\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pull_article.js"],"sourceRoot":""}